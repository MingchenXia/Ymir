\input{preamble}
\title{Ymir}
\begin{document}
\maketitle
\tableofcontents

\chapter*{Topology and bornology}\label{chap-topology}

\section{Introduction}\label{sec-introduction-Topology}

In the whole project, a neighbourhood in a topology space is taken in Bourbaki's sense. In particular, a neighbourhood is not necessarily open.

We follow Bourbaki's convention about compact space. A comapct space is always Hausdorff. 

On the other hand, we do not require locally compact spaces and paracompact spaces be Hausdorff.

A connected topological is always non-empty.

References to this chapter include \cite{Berk93}.

\section{Nets}\label{sec-nets}

Let $X$ be a set, $Y\subseteq X$ be a subset. Consider a collection $\tau$ of subsets of $X$, we write
\[
    \tau|_Y:=\left\{V\in \tau: V\subseteq Y \right\}.    
\]

\begin{definition}
    Let $X$ be a topology space and $\tau$ be a collection of subsets of $X$. We say $\tau$ is
    \begin{enumerate}
        \item \emph{dense} if for any $V\in \tau$ and any $x\in V$, there is a fundamental system of neighbourhoods of $x$ in $V$ consisting of sets from $\tau|_V$;
        \item a \emph{quasi-net} on $X$ if for each $x\in X$, there exist $n\in \mathbb{Z}_{>0}$, $V_1,\ldots,V_n\in \tau$ such that $x\in V_1\cap \cdots\cap V_n$ and that $V_1\cup\cdots\cup V_n$ is a neighbourhood of $x$ in $X$;
        \item a \emph{net} on $X$ if it is a quasi-net and if for any $U,V\in \tau$, $\tau|_{U\cap V}$ is a quasi-net on $U\cap V$;
        \item \emph{locally finite} if for any $x\in X$, there is a neighbourhood $U$ of $x$ in $X$ such that $\{V\in \tau:V\cap U\neq \emptyset\}$ is finite.
    \end{enumerate}
\end{definition}
We observe that if $\tau$ is a net, $\tau|_{U\cap V}$ is in fact a net.

\begin{lemma}\label{lma-quasinetopenset}
    Let $X$ be a topological space and $\tau$ be a quasi-net on $X$. 
    \begin{enumerate}
        \item A subset $U\subseteq X$ is open if and only if for each $V\in \tau$, $U\cap V$ is open in $V$.
        \item Suppose that $\tau$ consists of compact sets. Then $X$ is Hausdorff if and only if for any $U,V\in \tau$, $U\cap V$ is compact.
    \end{enumerate}
\end{lemma}
We remind the readers that a compact space is Hausdorff by our convention.
\begin{proof}
    (1) The direct implication is trivial. Suppose that $U\cap V$ is open in $V$ for all $V\in \tau$. We want to show that $U$ is open. Take $x\in U$, we can find $n\in \mathbb{Z}_{>0}$, $V_1,\ldots,V_n\in \tau$ all containing $x$ such that $V_1\cup \cdots \cup V_n$ is a neighbourhood of $x$ in $X$. By our hypothesis, we can find open sets $W_1,\ldots,W_n$ in $W$ such that $W\cap V_i=U\cap V_i$ for $i=1,\ldots,n$. Then $W=W_1\cap \cdots\cap W_n$ is an open neighbourhood of $x$ in $X$. But then
    \[
        U\cap (V_1\cup\cdots\cup V_n)\supseteq W\cap   (V_1\cup\cdots\cup V_n),
    \]
    the latter is a neighbourhood of $x$ hence so is the former. It follows that $U$ is open.

    (2) The direct implication is trivial. Consider the quasi-net $\tau\times\tau:=\{U\times V: U,V\in \tau\}$ on $X\times X$. 
    By (1), it suffices to verify that the intersection of the diagonal with $U\times V$ is closed in $U\times V$  for any $U,V\in \tau$. But this intersection is homeomorphic to $U\cap V$, which is compact by our assumption and hence closed as $U$, $V$ are both Hausdorff.
\end{proof}

\begin{lemma}\label{lma-quasinetimplyloccpt}
    Let $X$ be a Hausdorff space. Assume that $X$ admits a quasi-net $\tau$ consisting of compact sets. Then $X$ is locally compact.
\end{lemma}
\begin{proof}
    Take $x\in X$. By assumption, we can find $n\in \mathbb{N}$ and $V_1,\ldots,V_n\in \tau$ all containing $x$ such that $V_1\cup\cdots\cup V_n$ is a neighbourhood of $x$. This neighbourhood is clearly compact.
\end{proof}

\begin{lemma}
    Let $X$ be a Hausdorff space and $\tau$ be a collection of compact subsets of $X$. Then the following are equivalent:
    \begin{enumerate}
        \item $\tau$ is a quasi-net;
        \item For each $x\in X$, there are $n\in \mathbb{N}$ and $V_1,\ldots,V_n\in \tau$ such that $V_1\cup\cdots\cup V_n$ is a neighbourhood of $x$ in $X$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    (1) $\implies$ (2): This is trivial.

    (2) $\implies$ (1): Given $x\in X$, take $V_1,\ldots,V_n$ as in (2). We may assume that $x\in V_1,\ldots,V_m$ and $x\not\in V_{m+1},\ldots,V_n$ for some $1\leq m\leq n$. Then $V_1\cup\cdots\cup V_m$ is a neighbourhood of $x$ in $X$: if $U$ is an open neighbourhood of $x$ in $X$ contained in $V_1\cup \cdots\cup V_n$, then $U\setminus (V_{m+1}\cup\cdots \cup V_n)$ is an open neighbourhood of $x$ in $X$ contained in $V_1\cup\cdots\cup V_m$.
\end{proof}

\begin{lemma}\label{lma-netproperty1}
    Let $X$ be a topological space and $\tau$ be a net on $X$ consisting of compact sets. Then
    \begin{enumerate}
        \item for any pair $U,V\in \tau$, the intersection $U\cap V$ is locally closed in $U$ and in $V$;
        \item If $n\in \mathbb{Z}_{>0}$, $V,V_1,\ldots,V_n\in \tau$ are such that 
            \[
                V\subseteq V_1\cup \cdots\cup V_n,
            \]
            then there are $m\in \mathbb{Z}_{>0}$ and $U_1,\ldots,U_m\in \tau$ such that 
            \[
                V=U_1\cup\cdots\cup U_m  
            \]
            and each $U_j$ is contained in some $V_i$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    (1) It suffices to show that $U\cap V$ is locally compact in the induced topology. This follows from \cref{lma-quasinetimplyloccpt}.
    
    (2) For each $x\in V$ and each $i=1,\ldots,n$ such that $x\in V_i$, we take a neighbourhood of $x$ in $V\cap V_i$ of the form $W_iV_{i1}\cup\cdots\cup V_{im_i}$ for some $m_i\in \mathbb{Z}_{>0}$ and $V_{ij}\in \tau$ for $j=1,\ldots,m_i$. Then the union of all $W_i$'s is a neighbourhood of $x$ of the form $U_1\cup \cdots U_m$, where $U_j$ belongs to $\tau$ and is contained in some $V_i$. Using the compactness of $V$, we conclude.
\end{proof}

\section{Paracompact spaces}

\begin{definition}
    A topological space $X$ is \emph{paracompact} if any open covering of $X$ admits a locally finite refinement.
\end{definition}
A paracompact space is not necessarily Hausdorff according to our definition.

\begin{proposition}\label{prop-paracptrefinement}
    Let $X$ be a locally compact topological space. 
    \begin{enumerate}
        \item Assume that each connected component of $X$ is $\sigma$-compact, then $X$ is paracompact.
        \item If $X$ is paracompact and Hausdorff, then each connected component of $X$ is $\sigma$-compact.
    \end{enumerate}
    If the conditions in (2) are satisfied, for any basis of neighbourhoods $\mathcal{B}$ of $X$, every open covering $\mathcal{U}$ of $X$ can be refined into a locally finite covering $\mathcal{V}$ consisting of elements in $\mathcal{B}$.
\end{proposition}
We do not assume that the elements in $\mathcal{B}$ be open. The covering $\mathcal{V}$ is not necessarily open.

\begin{thm}[Michael]\label{thm-Michael}
    Let $f:X\rightarrow Y$ be a closed continuous map of topological spaces. Assume that $X$ is paracompact and Hausdorff, then $f(X)$ is also paracompact and Hausdorff.
\end{thm}
This is a classical theorem of Ernest Michael. \textcolor{red}{Reproduce the proof.}

\begin{proposition}
    Let $X$ be a paracompact space and $Y\subseteq X$ be a closed subspace. Then $Y$ is paracompact.
\end{proposition}

\begin{proposition}
    Let $X$ be a locally compact Hausdorff space and $Y\subseteq X$ be a subspace, then the following are equivalent:
    \begin{enumerate}
        \item $Y$ is locally compact and Hausdorff;
        \item $Y$ is a locally closed subspace of $X$.
    \end{enumerate}
    
\end{proposition}

\section{Closed maps and topologically finite maps}

\begin{definition}[{\cite[\href{https://stacks.math.columbia.edu/tag/004E}{Tag 004E}]{stacks-project},\cite[\href{https://stacks.math.columbia.edu/tag/0CY1}{Tag 0CY1}]{stacks-project}}]
    A map $f:X\rightarrow Y$ of topological spaces is \emph{closed} if for each closed subset $Z$ in $X$, $f(Z)$ is closed in $Y$.

    A map $f:X\rightarrow Y$ of topological spaces is \emph{separated} if it is continuous and the diagonal map $\Delta:X\rightarrow X\times_Y X$ is closed.
\end{definition}
A closed map is not necessarily continuous.

\begin{lemma}\label{lma-opennhfiberclosedmap}
    Let $f:X\rightarrow Y$ be a closed map of topological spaces, then for each $y\in Y$ and any open neighbourhood $U$ of $f^{-1}(y)$ in $X$, there is an open neighbourhood $V$ of $y$ in $Y$ such that $f^{-1}(V)\subseteq U$.
\end{lemma}
\begin{proof}
    It suffices to take $V=Y\setminus f(X\setminus U)$,
\end{proof}
\begin{lemma}\label{lma-closedmaprestricttarget}
    Let $f:X\rightarrow Y$ be a closed map of topological spaces. Then for any subspace $V$ of $Y$, the map $f^{-1}(V)\rightarrow V$ induced by $f$ is closed.
\end{lemma}
\begin{proof}
    Let $A$ be a closed subset of $U:=f^{-1}(V)$. We need to show that $f(A)$ is closed in $V$. Choose a closed subset $B$ of $X$ such that $A=B\cap U$, then $f(B)$ is closed in $Y$ and $f(A)=f(B)\cap V$ is closed in $V$.
\end{proof}

\begin{definition}
    A $f:X\rightarrow Y$ of topological spaces is \emph{topologically finite} if 
    \begin{enumerate}
        \item $f$ is separated and closed;
        \item for each $y\in Y$, the set $f^{-1}(y)$ is finite.
    \end{enumerate}

    A map $f:X\rightarrow Y$ of topological spaces is \emph{topologically finite at $x\in X$} if there is an open neighbourhood $U$ of $x$ in $X$ and an open neighbourhood $V$ of $f(x)$ in $Y$ such that $f(U)\subseteq V$ and the induced map $U\rightarrow V$ is topologically finite.
\end{definition}

\begin{proposition}\label{prop-topfinitechar}
    Let $f:X\rightarrow Y$ be a map of topological spaces. Then the following are equivalent:
    \begin{enumerate}
        \item $f$ is topologically finite;
        \item $f$ is proper and all fibers of $f$ are discrete.
    \end{enumerate}
\end{proposition}
Here the properness is defined as in \cite[\href{https://stacks.math.columbia.edu/tag/005O}{Tag 005O}]{stacks-project}. In particular, a proper map is always separated and hence continuous.
\begin{proof}
    Assume that $f$ is topologically finite. As the fibers of $f$ are finite and Hausdorff, they are discrete.
    We need to show that $f$ is proper. This follows from \cite[\href{https://stacks.math.columbia.edu/tag/005R}{Tag 005R}]{stacks-project}.

    Conversely, assume that $f$ is proper with discrete fibers. By \cite[\href{https://stacks.math.columbia.edu/tag/005R}{Tag 005R}]{stacks-project} again, the fibers of $f$ are compact and hence finite. The map $f$ is closed and separated as it is proper. So (1) follows.
\end{proof}

\begin{lemma}\label{lma-qcpttoHausdorffproper}
    Let $f:X\rightarrow Y$ be a continuous map between topologically spaces. Assume that $Y$ is Hausdorff.
    Let $W$ be an open relative quasi-compact subset of $X$, then the map
    \[
        W\setminus f^{-1}(f(\partial W))\rightarrow Y\setminus f(\partial W)
    \]
    induced by $f$ is proper.
\end{lemma}
\begin{proof}
    It is well-known that $f|_{\bar{W}}:\bar{W}\rightarrow Y$, as a continuous map from a quasi-compact space to a Hausdorff space is proper. The map in the lemma is a base change of the given map, hence is also proper. We apply \cite[\href{https://stacks.math.columbia.edu/tag/005R}{Tag 005R}]{stacks-project}.
\end{proof}

\begin{proposition}
    Let $f:X\rightarrow Y$ be a topologically finite map of topological spaces. Then for any subspace $V\subseteq Y$, the map $f^{-1}(V)\rightarrow V$ induced by $f$ is topologically finite.
\end{proposition}
\begin{proof}
    This follows immediately from \cref{lma-closedmaprestricttarget}.
\end{proof}

\begin{thm}\label{thm-localstructuretopfinitemap}
    Let $f:X\rightarrow Y$ be a topologically finite map of topological spaces. Let $y\in f(X)$ and $x_1,\ldots,x_n$ ($n\in \mathbb{Z}_{>0}$) denote the distinct points of $f^{-1}(y)$. Take pairwise disjoint open neighbourhoods $U_1',\ldots,U_n'$ of $x_1,\ldots,x_n$ in $X$. Then any neighbourhood $V'$ of $y$ in $Y$ contains an open neighbourhood $V$ of $y$ satisfying the following conditions:
    \begin{enumerate}
        \item $U_1:=f^{-1}(V)\cap U_1',\ldots, U_n:=f^{-1}(V)\cap U_n'$ are pairwise disjoint open neighbourhoods of $x_1,\ldots,x_n$ in $X$;
        \item $f^{-1}V=\bigcup_{j=1}^n U_j$;
        \item The maps $U_j\rightarrow V$ for $j=1,\ldots,n$ induced from $f$ are all topologically finite.
    \end{enumerate}

    Let $\mathcal{F}$ be a sheaf of sets on $X$, then we have a functorial bijection
    \[
        f_*\mathcal{F}(V)\cn \prod_{j=1}^n \mathcal{F}(U_j).
    \]
\end{thm}
The existence of $U_1',\ldots,U_n'$ is guaranteed by \cite[\href{https://stacks.math.columbia.edu/tag/0CY2}{Tag 0CY2}]{stacks-project}.
\begin{proof}
    As $\bigcup_{j=1}^n U_j'$ is an open neighbourhood of $f^{-1}(y)$ in $X$, by \cref{lma-opennhfiberclosedmap} and \cref{lma-closedmaprestricttarget}, we can find an open neighbourhood $V\subseteq V'$ of $y$ in $Y$ such that 
    \[
        f^{-1}V\subseteq \bigcup_{j=1}^n U_j'.
    \]
    The conditions (1) and (2) are therefore satisfied.

    In order to prove (3), it remains to show that the induced maps $U_j\rightarrow V$ are closed for $j=1,\ldots,n$. We may take $j=1$.
    Let $A$ be a closed subset of $U_1$. Then $A$ is closed in $f^{-1}(V)$ by (1) and (2). It follows that $f(A)$ is closed in $V$ by \cref{lma-closedmaprestricttarget}.

    The last assertion follows from (1) and (2).
\end{proof}

\begin{corollary}
    Let $f:X\rightarrow Y$ be a topologically finite map of topological spaces. Let $x\in X$ be $U'$  be an open neighbourhood of $x$ in $X$ such that all other points in $f^{-1}(f(x))$ are in the interior of $X\setminus U'$. Then any neighbourhood $V'$ of $f(x)$ in $Y$ contains an open neighbourhood $V$ of $y$ such that for $U:=f^{-1}(V)\cap U'$ the map $g:U\rightarrow V$ induced by $f$ is topologically finite and $g^{-1}(g(x))=\{x\}$.
\end{corollary}
\begin{proof}
    This follows immediately from \cref{thm-localstructuretopfinitemap}.
\end{proof}

\begin{corollary}\label{cor-pushforwardsheaffinite}
    Let $f:X\rightarrow Y$ be a topologically finite map of topological spaces. Let $\mathcal{F}$ be a sheaf of sets on $X$, $y\in f(X)$. Denote by $x_1,\ldots,x_n$ ($n\in \mathbb{Z}_{>0}$) the distinct points of the fiber $f^{-1}(y)$. Then we have a canonical bijection
    \[
        (f_*\mathcal{F})_y\cn \prod_{j=1}^n \mathcal{F}_{x_j}.
    \]
    In particular, $f_*:\AbCat(X)\rightarrow \AbCat(Y)$ is exact.
\end{corollary}
\begin{proof}
    This follows immediately from \cref{thm-localstructuretopfinitemap}.
\end{proof}


\section{Exhaustion}

\begin{definition}\label{def-exhaustion}
    Let $X$ be a space. A \emph{quasi-compact exhaustion}  of $X$ is a sequence of quasi-compact sets $(K_i)_{i\in \mathbb{Z}_{>0}}$ in $X$ such that 
    \begin{enumerate}
        \item For each $i\in \mathbb{Z}_{>0}$,
            \[
                K_i\subseteq \Int K_{i+1};  
            \]
        \item 
            \[
                X=\bigcup_{i=1}^{\infty}K_i.
            \]
    \end{enumerate}
    When $X$ is Hausdorff, we also say $(K_i)_{i\in \mathbb{Z}_{>0}}$ is a \emph{compact exhaustion}.
\end{definition}

\begin{proposition}\label{prop-qcptexhaustion}
    Let $X$ be a topological space. Then the following are equivalent:
    \begin{enumerate}
        \item there is a quasi-compact exhaustion of $X$;
        \item $X$ is $\sigma$-compact and weakly locally compact;
        \item $X$ is Lindelöf and weakly locally compact.
    \end{enumerate}
\end{proposition}
\begin{proof}
    \textcolor{red}{To be included.}
\end{proof}

\begin{proposition}
    Let $X$ be a locally compact Hausdorff topological space admitting a countable basis, then $X$ admits a compact exhaustion.
\end{proposition}
Note that in the book of Grauret--Remmert, the condition of being Hausdorff is omitted.
\begin{proof}
    \textcolor{red}{Include a proof}
\end{proof}

\begin{lemma}\label{lma-exhaustioncoh}
    Let $X$ be a paracompact Hausdorff topological space and $\mathcal{F}$ be a sheaf of Abelian groups on $X$. Let $q\in \mathbb{Z}_{\geq 2}$ and $(K_i)_{i\in \mathbb{Z}_{>0}}$ be a compact exhaustion of $X$ with the following property:
    \[
        H^{q-1}(K_i,\mathcal{F})=H^q(K_i,\mathcal{F})=0  
    \]
    for all $i\in \mathbb{Z}_{>0}$. Then $H^q(X,\mathcal{F})=0$.
\end{lemma}
\begin{proof}
    Grauert--Remmert P103.
\end{proof}

\section{Maps with discrete fibers}

\begin{lemma}\label{lma-connectedcompofiberdim0basis}
    Let $X$ be a locally connected locally compact Hausdorff topological space and $X_0$ be a Hausdorff space with a basis $\beta_0$. Consider a continuous map $f:X\rightarrow X_0$ with discrete fiber. Then there is a basis of $X$ made up of connected components of $f^{-1}U_0$ with $U_0\in \beta_0$.
\end{lemma}
\begin{proof}
    Let $x\in X$ and $V$ be an open neighbourhood of $x$ in $X$. We need to find $U_0\in \beta_0$ and a component $U$ of $f^{-1}(U_0)$ such that $U\subseteq V$.
    
    For this purpose, we may assume that $X$ is connected. Set $x_0=f(x)$.
    Choose an open neighbourhood $W$ of $x$ in $V$ with $\bar{W}$ compact and $B\cap f^{-1}(x_0)=\emptyset$, where $B=\bar{W}\setminus W$. Let $B_0=f(B)$, then $x_0\not\in B_0$. As $B_0$ is compact, we can find $U_0\in \beta_0$ containing $x_0$ such that $B_0\cap U_0=\emptyset$. Let $U$ be the connected component of $f^{-1}(U_0)$ containing $x$. Then $B\cap U=\emptyset$ and hence $U\subseteq W\cup (X\setminus \bar{W})$. As $X$ is connected and $W\cap U$ is non-empty, we find that $U\subseteq W$.
\end{proof}

\begin{proposition}\label{prop-fiberdiscountablebasisinh}
    Let $X$ be a connected, locally connected, first countable, locally compact Hausdorff space and $X_0$ be a topological space with countable basis. If there is a map $f:X\rightarrow X_0$ with discrete fibers, then $X$ has countable topology as well.
\end{proposition}
This result is proved in \cite{Jur59}.

\begin{proof}
    Let $\beta_0$ be a countable basis for the topology on $X_0$. Let $\beta$ be the collection of open sets $U$ in $X$ such that
    \begin{enumerate}
        \item There is $U_0\in \beta_0$ such that $U$ is a connected component of $f^{-1}(U_0)$;
        \item $U$ is relatively compact in $X$.
    \end{enumerate}
    By our assumption, any $U\in \beta$ has countable basis. By \cref{lma-connectedcompofiberdim0basis}, $\beta$ is a basis for the topology on $X$. It remains to show that $\beta$ is countable.

    Let $V\in \beta$. For each $n\in \mathbb{Z}_{>0}$, $\beta^{(n)}$ denotes the collection of $U\in \beta$ with the following property: there is a map $\{1,\ldots,n\}\rightarrow \beta$, say assigning $U_i\in \beta$ to $i$ such that $U_1=V$, $U_i\cap U_{i+1}\neq \emptyset$ for $i=1,\ldots,n-1$. As $X$ is connected,
    \[
        \beta=\bigcup_{n=1}^{\infty}\beta^{(n)}.  
    \]
    It remains to show that for each $n\in \mathbb{Z}_{>0}$, $\beta^{(n)}$ is countable. We make an induction. The case $n=1$ is obvious. Assume that $n\geq 2$ and the assertion has been proved for $n-1$. Let $U_0\in \beta_0$ and $U'\in \beta^{(n-1)}$. Let $\alpha^{(n)}(U_0,U')$ denote the collection of $U\in \beta^{(n)}$ such that $U$ is a connected component of $f^{-1}(U_0)$ and $U\cap U'$ is non-empty. Then
    \[
        \beta^{(n)}=\bigcup_{U_0\in \beta_0,U'\in \beta^{(n-1)}}\alpha^{(n)}(U_0,U').  
    \]
    But each $\alpha_{(n)}(U_0,U')$ is countable as $U'$ has countable basis. It follows that $\beta^{(n)}$ is countable.
\end{proof}

\section{Bornology}
\begin{definition}
    Let $X$ be a set. A \emph{bornology} on $X$ is a collection $\mathcal{B}$ of subsets of $X$ such that
    \begin{enumerate}
        \item For any $x\in X$, there is $B\in \mathcal{B}$ such that $x\in \mathcal{B}$;
        \item For any $B\in \mathcal{B}$ and any subset $A\subseteq B$, $A\in \mathcal{B}$;
        \item $\mathcal{B}$ is stable under finite union.
    \end{enumerate}

    The pair $(X,\mathcal{B})$ is called a \emph{bornological set}. The elements of $\mathcal{B}$ are called the \emph{bounded subsets} of $(X,\mathcal{B})$. When $\mathcal{B}$ is obvious from the context, we omit it from the notations.
    
    A morphism between bornological sets $(X,\mathcal{B}_X)$ and $(Y,\mathcal{B}_Y)$ is a map of sets $f:X\rightarrow Y$ such that for any $A\in \mathcal{B}_X$, $f(A)\in \mathcal{B}_Y$. Such a map is called a \emph{bounded map}.
\end{definition}
\begin{definition}
    Let $(X,\mathcal{B})$ be a bornological set. A \emph{basis} for $\mathcal{B}$ is a subset $\mathcal{A}\subseteq \mathcal{B}$ such that for any $B\in \mathcal{B}$, there are $A_1,\ldots,A_n\in \mathcal{A}$ such that $B\subseteq A_1\cup\cdots\cup A_n$.
\end{definition}


\printbibliography
\end{document}