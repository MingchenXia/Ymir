\input{preamble}
\title{Affinoid algebras}
\begin{document}
\maketitle
\tableofcontents




\section{Introduction}\label{sec-introduction}
Our references  for this chapter include \cite{BGR}, \cite{Berk12}.
\section{Tate algebras}
Let $(k,|\bullet|)$ be a complete non-Archimedean valued-field. 

\begin{definition}
    Let $n\in \mathbb{N}$ and $r=(r_1,\ldots,r_n)\in \mathbb{R}^n_{>0}$. We set 
    \[
        \begin{split}
        k\{r^{-1}T\}=& k\{r_1^{-1}T_1,\ldots,r_n T_n^{-1}\} \\
        :=&\left\{f=\sum_{\alpha\in \mathbb{N}^n} a_{\alpha}T^{\alpha}\in k[[T_1,\ldots,T_n]]:a_{\alpha}\in k, |a_{\alpha}|r^{\alpha}\to 0\text{ as }|\alpha|\to\infty \right\}.
        \end{split}
    \]
    For any $f=\sum_{\alpha\in \mathbb{N}^n} a_{\alpha}T^{\alpha}\in k\{r^{-1}T\}$, we set
    \[
        \|f\|_r=\max_{\alpha}|a_{\alpha}|r^{\alpha}.  
    \]
    We call $(k\{r^{-1}T\},\|\bullet\|_r)$ the \emph{Tate algebra} in $n$-variables with radii $r$. The norm $\|\bullet\|_r$ is called the \emph{Gauss norm}.

    We omit $r$ from the notation if $r=(1,\ldots,1)$.
\end{definition}
This is a special case of \cref{Banach-ex-strictconvseriesradius}  in the chapter Banach Rings.
\begin{proposition}\label{prop-TateGaussvaluation}
    Let $n\in \mathbb{N}$ and $r=(r_1,\ldots,r_n)\in \mathbb{R}^n_{>0}$.  Then the Tate algebra $(k\{r^{-1}T\},\|\bullet\|_r)$ is a Banach $k$-algebra and $\|\bullet\|_r$ is a valuation.
\end{proposition}

\begin{proof}
    This is a special case of \cref{Banach-prop-strictconvseriesradiusBanach} in the chapter Banach Rings.
\end{proof}

\begin{remark}
One should think of $k\{r^{-1}T\}$ as analogues of $\mathbb{C}\langle r^{-1}T\rangle$ in the theory of complex analytic spaces.  We could have studied complex analytic spaces directly from the Banach rings $\mathbb{C}\langle r^{-1}T\rangle$, as we will do in the rigid world. But in the complex world, the miracle is that we have \emph{a priori} a good theory of functions on all open subsets of the unit polydisk, so things are greatly simplified. The unit polydisk is a ringed space for free.

As we will see, constructing a good function theory, or more precisely, enhancing the unit disk to a ringed site is the main difficulty in the theory of rigid spaces. And Tate's innovation comes in at this point.
\end{remark}

\begin{example}\label{ex-trivvaluedaff}
    Assume that the valuation on $k$ is trivial. 

    Let $n\in \mathbb{N}$ and $r\in \mathbb{R}^n_{>0}$. 
    Then $k\{r^{-1}T\}\cong k[T_1,\ldots,T_n]$ if $r_i\geq 1$ for all $i$ and $k\{r^{-1}T\}\cong k[[T_1,\ldots,T_n]]$ otherwise.
\end{example}

\begin{lemma}\label{lma-Tatestrictuniv}
    Let $A$ be a Banach $k$-algebra. For each $n\in \mathbb{N}$ and $a_1,\ldots,a_n\in \mathring{A}$, there is a unique continuous homomorphism $k\{T_1,\ldots,T_n\}\rightarrow A$ sending $T_i$ to $a_i$.
\end{lemma}
\begin{proof}
    This is a special case of \cref{Banach-prop-Tateunivprop} in the chapter Banach Rings.
\end{proof}





\section{Affinoid algebras}
Let $(k,|\bullet|)$ be a complete non-Archimedean valued-field. 

\begin{definition}
    A Banach $k$-algebra $A$ is \emph{$k$-affinoid} (resp. \emph{strictly $k$-affinoid}) if there are $n\in \mathbb{N}$, $r\in \mathbb{R}^n_{>0}$ and an admissible epimorphism $k\{r^{-1}T\}\rightarrow A$ (resp. an admissible epimorphism $k\{T\}\rightarrow A$).

    An affinoid $k$-algebra is a $K$-affinoid algebra for some complete non-Archimedean field extension $K/k$.
\end{definition}
For the notion of admissible morphisms, we refer to \cref{Banach-def-admissiblemorphism} in the chapter Banach rings.



\begin{example}\label{ex-Kraffinoid}
    Let $r\in \mathbb{R}_{>0}$. We let $K_r$ denote the subring of $k[[T]]$ consisting of $f=\sum_{i=-\infty}^{\infty} a_i T^i$ satisfying $|a_i| r^i\to 0$ for $i\to \infty$ and $i\to -\infty$. We define a norm $\|\bullet\|_r$ on $K_r$ as follows:
    \[
          \|f\|_{r}:=\max_{i\in \mathbb{Z}}|a_i| r^i.
    \]
    We will show in \cref{prop-Krisaffinoid} that $K_r$ is $k$-affinoid.
\end{example}
\begin{proposition}\label{prop-Krisaffinoid}
    Let $r\in \mathbb{R}_{>0}$, then $(K_r,\|\bullet\|_r)$ defined in \cref{ex-Kraffinoid} is a $k$-affinoid algebra. Moreover, $\|\bullet\|_r$ is a valuation.
\end{proposition}
\begin{proof}
    Observe that we have an admissible epimorphism
    \[
        \iota:k\{r^{-1}T_1,rT_2\}\rightarrow K_r,\quad T_1\mapsto T, T_2\mapsto T^{-1}.  
    \]
    As we do not have the universal property at our disposal yet, let us verify by hand that this defines a ring homomorphism: consider a series
    \[
        f=\sum_{(i,j)\in \mathbb{N}^2} a_{i,j}T_1^i T_2^j\in  k\{r^{-1}T_1,rT_2\}, 
    \]
    namely, 
    \begin{equation}\label{eq-aijrijto0}
        |a_{i,j}|r^{i-j}\to 0  
    \end{equation}
    as $i+j\to \infty$. Observe that for each $k\in \mathbb{Z}$, the series 
    \[
        c_k:=  \sum_{i-j=k,i,j\in \mathbb{N}} a_{i,j}
    \]
    is convergent.

    Then by definition, the image $\iota(f)$ is given by
    \[
        \sum_{k=-\infty}^{\infty} c_k T^{k}.
    \]
    We need to verify that $\iota(f)\in K_r$. That is 
    \[
        |c_k|r^k\to 0  
    \]
    as $k\to \pm\infty$. When $k\geq 0$, we have $|c_k|\leq |a_{k0}|$ by definition of $c_k$. So $|c_k|r^k\to 0$ as $k\to\infty$ by \eqref{eq-aijrijto0}. The case $k\to -\infty$ is similar.

    We conclude that we have a well-defined map of sets $\iota$. It is straightforward to verify that $\iota$ is a ring homomorphism. Next we show that $\iota$ is surjective. Take $g=\sum_{i=-\infty}^{\infty} c_i T^i\in K_r$. We want to show that $g$ lies in the image of $\iota$. As $\iota$ is a ring homomorphism, it suffices to treat two cases separately: $g=\sum_{i=0}^{\infty} c_i T^i$ and $g=\sum_{i=-\infty}^0 c_iT^i$. We handle the first case only, as the second case is similar. In this case, it suffices to consider $f=\sum_{i=0}^{\infty} c_i T_1^i\in k\{r^{-1}T_1,rT_2\}$. It is immediate that $\iota(f)=g$.


    Next we show that $\iota$ is admissible. We first identify the kernel of $\iota$. We claim that the kenrel is the ideal $I$ generated by $T_1T_2-1$. It is obvious that $I\subseteq \ker \iota$. Conversely, consider an element
    \[
        f=\sum_{(i,j)\in \mathbb{N}^2} a_{i,j}T_1^i T_2^j\in  k\{r^{-1}T_1,rT_2\}  
    \]
    lying in the kenrel of $\iota$. Observe that 
    \[
        f=\sum_{k=-\infty}^{\infty}f_k, \quad f_k=\sum_{(i,j)\in \mathbb{N}^2, i-j=k} a_{i,j}T_1^i T_2^j.
    \]
    If $f\in \ker\iota$, then so is each $f_k$ by our construction. 
    
    We first show that each $f_k$ lies in the ideal generated by $T_1T_2-1$. The condition that $f_k\in \ker\iota$ means
    \[
        \sum_{(i,j)\in \mathbb{N}^2, i-j=k} a_{i,j}=0.  
    \]
    It is elementary to find $b_{i,j}\in k$ for $i,j\in \mathbb{N}$, $i-j=k$ such that
    \[
        a_{i,j}=b_{i-1,j-1} -b_{i,j}.
    \]
    Then 
    \[
      f_k=(T_1T_2-1)\sum_{i,j\in \mathbb{N},i-j=k}b_{i,j}T_1^i T_2^j.
    \]
    Observe that we can make sure that $|b_{i,j}|\leq \max\{|a_{i',j'}|:i-j=i'-j'\}$. In particular, the sum of $\sum_{i,j\in \mathbb{N},i-j=k}b_{i,j}T_1^i T_2^j$ for various $k$ converges to some $g\in k\{r^{-1}T_1,rT_2\}$ and hence $f_k=(T_1T_2-1)g$.
    Therefore, we have proved that $\ker \iota$ is generated by $T_1T_2-1$.

    It remains to show that $\iota$ is admissible. In fact, we will prove a stronger result: $\iota$ induces an isometric isomorphism
    \[
        k\{r^{-1}T_1,rT_2\}/I\rightarrow K_r. 
    \]
    To see this, take $f=\sum_{k=-\infty}^{\infty}c_k T^k\in K_r$ and we need to show that 
    \[
        \|f\|_r=\inf\{\|g\|_{(r,r^{-1})}:\iota(g)=f\}.
    \]
    Observe that if we set $g=\sum_{k=0}^{\infty} c_k T_1^k+\sum_{k=1}^{\infty}c_{-k}T_2^k$, then $\iota(g)=f$ and $\|g\|_{(r,r^{-1})}=\|f\|$. So it suffices to show that for any $h=\sum_{(i,j)\in \mathbb{N}^2} d_{i,j}T_1^iT_2^j\in k\{r^{-1}T_1,rT_2\}$, we have
    \begin{equation}\label{eq-fnormequalquotientnorm}
        \|f\|_r\leq \|g+h(T_1T_2-1)\|_{r,r^{-1}}.  
    \end{equation}
    We compute
    \[
        g+h(T_1T_2-1)=\sum_{k=1}^{\infty}(c_k-d_{k,0})T_1^k+\sum_{k=1}^{\infty}(c_{-k}-d_{0,k})T_2^k+(c_0-d_0)+\sum_{i,j\geq 1} (d_{i-1,j-1}-d_{i,j})T_1^iT_2^j.
    \]
    So 
    \[
        \|g+h(T_1T_2-1)\|_{r,r^{-1}}=\max\left\{\max_{k\geq 0} C_{1,k},\max_{k\geq 1} C_{2,k} \right\},  
    \]
    where
    \[
        C_{1,k}=\max\left\{ |c_k-d_{k,0}|, \left|\sum_{i-j=k,i,j\geq 1} d_{i-1,j-1}-d_{i,j}\right| \right\} 
    \]
    for $k\geq 0$
    and
    \[
        C_{2,k}=\max\left\{ |c_{-k}-d_{0,k}|, \left|\sum_{i-j=-k,i,j\geq 1} d_{i-1,j-1}-d_{i,j}\right| \right\}
    \] 
    for $k\geq 1$.
    It follows from the strong triangle inequality that $|c_k|\leq C_{1,k}$ for $k\geq 0$ and $c_{-k}\leq C_{2,k}$ for $k\geq 1$. So \eqref{eq-fnormequalquotientnorm} follows.
\end{proof}

\begin{proposition}
    Let $r\in \mathbb{R}_{>0}\setminus \sqrt{|k^{\times}|}$, then $\|\bullet\|_r$ defined in \cref{ex-Kraffinoid} is a valuation on $K_r$.
\end{proposition}
\begin{proof}
    Take $f,g\in K_r$, we need to show that
    \[
      \|fg\|_r\geq \|f\|_r\|g\|_r.  
    \]
    Let us expand
    \[
      f=\sum_{i=-\infty}^{\infty} a_i T^i,\quad   g=\sum_{i=-\infty}^{\infty} b_i T^i.
    \]
    Take $i$ and $j$ so that
    \begin{equation}\label{eq-aibjnorm}
      |a_i|r^i=\|f\|_r,\quad |b_j|r^j=\|g\|_r.  
    \end{equation}
    By our assumption on $r$, $i,j$ are unique.
    Then
    \[
      \|fg\|_r=\max_{k\in \mathbb{Z}}\{ |c_k|r^k\},
    \]
    where 
    \[
      c_k:=\sum_{u,v\in \mathbb{Z},u+v=k}a_ub_v.  
    \]
    It suffices to show that
    \begin{equation}\label{eq-ckrkequalfrgr}
        |c_k|r^k=\|f\|_r\|g\|_r.
    \end{equation}
    for $k=i+j$. Of course, we may assume that $a_i\neq 0$ and $b_j\neq 0$ as otherwise there is nothing to prove.
    For $u,v\in \mathbb{Z}$, $u+v=i+j$ while $(u,v)\neq (i,j)$, we may assume that $u\neq i$. Then $|a_u|r^u < |a_i|r^i$ and $|b_v|r^v\leq |b_j|r^j$. So $|a_ub_v|< |a_ib_j|$ and we conclude \eqref{eq-ckrkequalfrgr}.
\end{proof}
\begin{remark}
    The argument of \cref{Banach-prop-strictconvseriesradiusBanach} in the chapter Banch Rings does not work here if $r\in \sqrt{|k^{\times}|}$, as in general one can not take minimal $i,j$ so that \eqref{eq-aibjnorm} is satisfied.
\end{remark}

\begin{proposition}\label{prop-Krvaluation}
    Assume that $r\in \mathbb{R}_{>0}\setminus \sqrt{|k^{\times}|}$. Then $K_r$ is a valuation field and $\|\bullet\|_r$ is non-trivial.
\end{proposition}
\begin{proof}
    We first show that $\Sp K_r$ consists of a single point: $\|\bullet\|_r$. Assume that $|\bullet|\in \Sp K_r$. As $\|\bullet\|_r$ is a valuation, we find 
    \begin{equation}\label{eq-compseminormnormr}
      |\bullet|\leq \|\bullet\|_r.  
    \end{equation}
    In particular, $|\bullet|$ restricted to $k$ is the given valuation on $k$. It suffices to show that $|T|=r$. This follows from \eqref{eq-compseminormnormr} applied to $T$ and $T^{-1}$.

    It follows that $K_r$ does not have any non-zero proper closed ideals: if $I$ is such an ideal, $K_r/I$ is a Banach $k$-algebra. By \cref{Banach-prop-Berkospecnonempty} in the chapter Banach rings, $\Sp K_r$ is non-empty. So $K_r$ has to admit bounded semi-valuation with non-trivial kernel.

    In particular, by \cref{Banach-cor:maximalidealclosedinBanachring} in the chapter Banach rings, the only maximal ideal of $K_r$ is $0$. It follows that $K_r$ is a field.

    The valuation $\|\bullet\|_r$ is non-trivial as $\|T\|_r=r$.
\end{proof}

\begin{definition}
    Let $n\in \mathbb{N}$ and $r=(r_1,\ldots,r_n)\in \mathbb{R}^n_{>0}$. Assume that $r_1,\ldots,r_n$ are linearly independent in the $\mathbb{Q}$-linear space $\mathbb{R}_{>0}/\sqrt{|k^{\times}|}$. We define 
    \[
        K_r=K_{r_1}\hat{\otimes}_k \cdots \hat{\otimes}_k K_{r_n}.  
    \]
\end{definition}
By an interated application of \cref{prop-Krvaluation}, $K_r$ is a complete valuation field.

As a general explanation of why $K_r$ is useful, we prove the following proposition:
\begin{proposition}\label{prop-Krfaithflat}
    Let $n\in \mathbb{N}$ and $r=(r_1,\ldots,r_n)\in \mathbb{R}^n_{>0}$. Assume that $r_1,\ldots,r_n$ are linearly independent in the $\mathbb{Q}$-linear space $\mathbb{R}_{>0}/\sqrt{|k^{\times}|}$. 
    \begin{enumerate}
        \item For any $k$-Banach space $X$, the natural map
        \[
            X\rightarrow X\hat{\otimes}_k K_r    
        \]
        is an isometric embedding.
        \item Consider a sequence of bounded homomorphisms of $k$-Banch spaces $X\rightarrow Y\rightarrow Z$. Then the sequence is admissible and exact (resp. coexact) if and only if $X\hat{\otimes}_k K_r \rightarrow Y\hat{\otimes}_k K_r \rightarrow Z\hat{\otimes}_k K_r $ is admissible and exact (resp. coexact).
    \end{enumerate}
\end{proposition}
\begin{proof}
    We may assume that $n=1$. 

    (1) We have a more explicit description of $X\hat{\otimes}_k K_r$: as a vector space, it is the space of $f=\sum_{i=-\infty}^{\infty}a_i T^i$ with $a_i\in X$ and $\|a_i\|r^i\to 0$ when $|i|\to \infty$. The norm is given by $\max_i\|a_i\|r^i$. From this description, the embedding is obvious.

    (2) This follows easily from the explicit description in (1).
\end{proof}
When $X$ is a Banach $k$-algebra,  $X\hat{\otimes}_k K_r$ is a Banach $K_r$-algebra. 


\begin{proposition}\label{prop-strictlykafffinite}
    Assume that $k$ is non-trivially valued.
    Let $B$ be a strict $k$-affinoid algebra and $\varphi:B\rightarrow A$ be a finite bounded homomorphism into a $k$-Banach algebra $A$. Then $A$ is also strictly $k$-affinoid.
\end{proposition}
\begin{proof}
    We may assume that $B=k\{T_1,\ldots,T_n\}$ for some $n\in \mathbb{N}$. By assumption, we can find finitely many $a_1,\ldots,a_m\in A$ such that $A=\sum_{i=1}^m \varphi(B)a_i$.

    We may assume that $a_i\in \mathring{A}$ as $k$ is non-trivially valued. By \cref{Banach-prop-Tateunivprop} in the chapter Banach Rings, $\varphi$ admits a unique extension to a bounded $k$-algebra epimorphism 
    \[
        \Phi:  k\{T_1,\ldots,T_n,S_1,\ldots,S_m\}\rightarrow A
    \]
    sending $S_i$ to $a_i$. By \cref{Banach-cor-bddisadmi} in the chapter Banach Rings, $\Phi$ is admissible. Moreover, the homomorphism $\Phi$ is surjective by our assumption. It follows that $A$ is strictly $k$-affinoid.
\end{proof}

\begin{lemma}\label{lma-tatestrictaff}
    Assume that $k$ is non-trivially valued.
    Let $n\in \mathbb{N}$ and $r=(r_1,\ldots,r_n)\in \mathbb{R}^n_{>0}$. The algebra $k\{r^{-1}T\}$ is strictly $k$-affinoid if $r_i\in \sqrt{|k^{\times}|}$ for all $i=1,\ldots,n$.
\end{lemma}
\begin{remark}
    The converse is also true.     
\end{remark}

\begin{proof}
    Assume that $r_i\in \sqrt{|k^{\times}|}$ for all $i=1,\ldots,n$. Take $s_i\in \mathbb{N}$ and $c_i\in k^{\times}$ such that 
    \[
        r_i^{s_i}=|c_i^{-1}|  
    \]
    for $i=1,\ldots,n$. We deifne a bounded $k$-algebra homomorphism $\varphi:k\{T_1,\ldots,T_n\}\rightarrow k\{r_1^{-1}T_1,\ldots,r_n^{-1}T_n\}$ by sending $T_i$ to $c_iT_i^{s_i}$. This is possible by \cref{Banach-prop-Tateunivprop} in the chapter Banach Rings.

    We claim that $\varphi$ is finite. To see this, it suffices to observe that if we expand $f\in k\{r_1^{-1}T_1,\ldots,r_n^{-1}T_n\}$ as
    \[
        f=\sum_{\alpha \in \mathbb{N}^n} a_{\alpha}T^{\alpha},  
    \]
    we can regroup
    \[
        f=\sum_{\beta \in \mathbb{N}^n, \beta_i<s_i} T^{\beta}\sum_{\gamma\in \mathbb{N}^n} a_{\gamma s+\beta}c^{-\gamma} (cT^s)^{\gamma},
    \]
    where the product $\gamma s$ is taken component-wise. For each $\beta \in \mathbb{N}^n, \beta_i<s_i$, we set
    \[
        g_{\beta}:=\sum_{\gamma\in \mathbb{N}^n} a_{\gamma s+\beta}c^{-\gamma} (T)^{\gamma}\in k\{T_1,\ldots,T_n\}.
    \]  
    While $f=\sum_{\beta \in \mathbb{N}^n, \beta_i<s_i} \varphi(g_{\beta})T^{\beta}$. So We have shown that $\varphi$ is finite. Hence, $k\{r_1^{-1}T_1,\ldots,r_n^{-1}T_n\}$ is $k$-affinoid by \cref{prop-strictlykafffinite}.
\end{proof}


\begin{proposition}\label{prop-redtostrictlykaff}
    Let $A$ be a $k$-affinoid algebra, then there is $n\in \mathbb{N}$ and $r=(r_1,\ldots,r_n)\in \mathbb{R}^n_{>0}$ such that $r_1,\ldots,r_n$ are linearly independent in the $\mathbb{Q}$-linear space $\mathbb{R}_{>0}/\sqrt{|k^{\times}|}$ and such that $A\hat{\otimes}_k K_r$ is strictly $K_r$-affinoid. Moreover, we can guarantee that $K_r$ is non-trivially valued.
\end{proposition} 
\begin{proof}
    By \cref{prop-Krfaithflat}, we may assume that $A=k\{t^{-1}T\}$ for some $t\in \mathbb{R}^m_{>0}$. By \cref{lma-tatestrictaff}, it suffices to take $r$ so that the linear subspace of $\mathbb{R}_{>0}/\sqrt{|k^{\times}|}$ generated by $r_1,\ldots,r_n$ contains all components of $t$. By taking $n\geq 1$, we can guarantee that $K_r$ is non-trivially valued.
\end{proof}

\section{Weierstrass theory}
Let $(k,|\bullet|)$ be a complete non-Archimedean valued-field.

\begin{proposition}\label{prop-reductionTn}
    We have canonical identifications
    \[
        \begin{aligned}
        (k\{T_1,\ldots,T_n\} )^{\circ}\cong & \mathring{k}\{T_1,\ldots,T_n\},\\
        (k\{T_1,\ldots,T_n\} )^{\check{}}\cong & \check{k}\{T_1,\ldots,T_n\},\\
        \widetilde{k\{T_1,\ldots,T_n\}  }\cong & \tilde{k}[T_1,\ldots,T_n].
        \end{aligned}
    \]
    The last identification extends $\mathring{k}\rightarrow \tilde{k}$ and $T_i$ is mapped to $T_i$.
\end{proposition}
\begin{proof}
    This follows from \cref{Banach-cor-reductionstrictlyconv} from the chapter Banach rings.
\end{proof}
We will denote the reduction map $\mathring{k}\{T_1,\ldots,T_n\}\rightarrow \tilde{k}[T_1,\ldots,T_n]$ by $\tilde{\bullet}$.

\begin{definition}\label{def-affchart}
    Let $n\in \mathbb{N}$. A system $f_1,\ldots,f_n\in k\{T_1,\ldots,T_n\}$ is called an \emph{affinoid chart} of $k\{T_1,\ldots,T_n\}$ if $f_i\in \mathring{k}\{T_1,\ldots,T_n\}$ for each $i=1,\ldots,n$ and the continuous $k$-algebra homomorphism $k\{T_1,\ldots,T_n\}\rightarrow k\{T_1,\ldots,T_n\}$ sending $T_i$ to $f_i$ is an isomorphism.
\end{definition}
The map $k\{T_1,\ldots,T_n\}\rightarrow k\{T_1,\ldots,T_n\}$ is well-defined by \cref{prop-reductionTn} and \cref{lma-Tatestrictuniv}.


\begin{lemma}\label{lma-unitsTate}
    Let $n\in \mathbb{N}$ and $f\in k\{T_1,\ldots,T_n\}$. Assume that $\|f\|_1=1$. Then the following are equivalent:
    \begin{enumerate}
        \item $f$ is a unit $k\{T_1,\ldots,T_n\}$.
        \item $\tilde{f}$ is a unit in $\tilde{k}[T_1,\ldots,T_n]$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    As $\|\bullet\|_1$ is a valuation by \cref{prop-Krisaffinoid}, $f$ is a unit in $k\{T_1,\ldots,T_n\}$ if and only if it is a unit in $(k\{T_1,\ldots,T_n\} )^{\circ}$, which is identified with $\mathring{k}\{T_1,\ldots,T_n\}$ by \cref{prop-reductionTn}. This result then follows from \cref{Banach-cor-unitsstrictlyconv} in the chapter Banach Rings.
\end{proof}

\begin{definition}
   Let $n\in \mathbb{N}$. Consider $g\in k\{T_1,\ldots,T_n\}$. We expand $g$ as
   \[
        g=\sum_{i=0}^{\infty}g_i T_n^{i},\quad g_i\in k\{T_1,\ldots,T_{n-1}\}.
   \] 
   For $s\in \mathbb{N}$, we say $g$ is \emph{$X_n$-distinguished of degree $s$} if $g_s$ is a unit in $k\{T_1,\ldots,T_{n-1}\}$, $\|g_s\|_{1}=\|g\|_1$ and $\|g_s\|_1>\|g_{t}\|_1$ for all $t>s$.
\end{definition}

\begin{thm}[Weierstrass division theorem]\label{thm-Weierstrassdivision}
    Let $n,s\in \mathbb{N}$ and $g\in k\{T_1,\ldots,T_n\}$ be $X_n$-distinguished of degree $s$. Then for each $f\in k\{T_1,\ldots,T_n\}$, there exist $q\in k\{T_1,\ldots,T_n\}$ and $r\in k\{T_1,\ldots,T_{n-1}\}[T_n]$ with $\deg_{T_n}r<s$ such that 
    \[
        f=qg+r.
    \]
    Moreover, $q$ and $r$ are uniquely determined. We have the following estimates
    \begin{equation}\label{eq-estiWeirediv}
        \|q\|_1\leq \|g\|_1^{-1}\|f\|_1,\quad \|r\|_1\leq \|f\|_1.   
    \end{equation}
    If in addition, $f,g\in k\{T_1,\ldots,T_{n-1}\}[T_n]$, then $q\in k\{T_1,\ldots,T_{n-1}\}[T_n]$ as well. 
\end{thm}
\begin{proof}
    We may assume that $\|g\|_1=1$.

    \textbf{Step~1}. Assuming the existence of the division. Let us prove \eqref{eq-estiWeirediv}. We may assume that $f\neq 0$, so that one of $q,r$ is non-zero. Up to replacing $q,r$ by a scalar multiple, we may assume that $\max\{\|q\|_1,\|r\|_1\}=1$. So $\|f\|_1\leq 1$ as well. We need to show that $\|f\|_1= 1$. Assume the contrary, then 
    \[
        0=\tilde{f} =\tilde{q}\tilde{g}+\tilde{r}. 
    \]
    Here $\tilde{\bullet}$ denotes the reduction map. By our assumption, $\deg_{T_n}=s>\deg_{T_n}r\geq \deg_{T_n}\tilde{r}$. From  \cref{prop-reductionTn}, the equality is in $\tilde{k}[T_1,\ldots,T_n]$. From the usual Euclidean division, we have $\tilde{q}=\tilde{r}=0$. This is a contradiction to our assumption.

    \textbf{Step~2}. Next we verify the uniqueness of the division. Suppose that 
    \[
        0=qg+r  
    \]
    with $q$ and $r$ as in the theorem. The estimate in Step~1 shows that $q=r=0$.

    \textbf{Step~3}. We prove the existence of the division.

    We define
    \[
        B:=\left\{qg+r:r\in k\{T_1,\ldots,T_{n-1}\}[T_n], \deg_{T_n}r<s,q\in k\{T_1,\ldots,T_{n}\}\right\}.
    \]
    From Step~1, $B$ is a closed subgroup of $k\{T_1,\ldots,T_{n}\}$. In fact, suppose $f_i\in B$ is a sequence converging to $f\in k\{T_1,\ldots,T_{n}\}$. From Step~1, we can represent $f_i=q_ig+r_i$, then from Step~1, $q_i$ and $r_i$ are both Cauchy sequences, we may assume that $q_i\to q\in k\{T_1,\ldots,T_{n}\}$ and $r_i\to r$. As $\deg_{T_n}r_i<s$, it follows that $r\in k\{T_1,\ldots,T_{n-1}\}[T_n]$ and $\deg_{T_n}r<s$. So $f=qg+r$ and hence $B$ is closed.

    It suffices to show that $B$ is dense $k\{T_1,\ldots,T_{n}\}$. We write 
    \[
      g=\sum_{i=0}^{\infty}g_i T_n^{i},\quad g_i\in k\{T_1,\ldots,T_{n-1}\}.  
    \]
    We may assume that $\|g\|_1=1$.
    Define $\epsilon:=\max_{j\geq s} \|g_j\|$. Then $\epsilon<1$ by our assumption. Let $k_{\epsilon}=\{x\in k:|x|\leq \epsilon\}$ for the moment. There is a natural surjective ring homomorphism 
    \[
        \tau_{\epsilon}:(k\{T_1,\ldots,T_n\} )^{\circ}\rightarrow (\mathring{k}/k_{\epsilon})[T_1,\ldots,T_n]
    \] 
    with kernel $\{f\in k\{T_1,\ldots,T_n\}  : \|f\|_1\leq \epsilon\}$.  We now apply Euclidean division in the ring $(\mathring{k}/k_{\epsilon})[T_1,\ldots,T_n]$ to write
    \[
        \tau_{\epsilon}(f)=\tau_{\epsilon}(q)\tau_{\epsilon}(g)+\tau_{\epsilon}(r)
    \]
    for some $q\in (k\{T_1,\ldots,T_n\} )^{\circ}$ and $r\in (k\{T_1,\ldots,T_{n-1}\} )^{\circ}[T_n]$ with $\deg_{T_n}r<s$. So
    \[
        \|f-qg-r\|_1\leq \epsilon.  
    \]
    This proves that $B$ is dense in $k\{T_1,\ldots,T_{n}\}$ by \cref{Banach-prop-epsilondenseimpliesdense} in the chapter Banach rings.

    \textbf{Step~4}. It remains to prove the last assertion. But this is a consequence of the usual Euclidean division theorem for the ring $k\{T_1,\ldots,T_{n-1}\}[T_n]$ and the uniqueness proved in Step~2.
\end{proof}
\begin{lemma}\label{lma-Weierstrasspolycancel2}
    Let $\omega\in k\{ T_1,\ldots,T_{n-1}\}[T_n] $ be a Weierstrass polynomial and $g\in k\{ T_1,\ldots,T_{n}\}$. Assume that $\omega g\in k\{ T_1,\ldots,T_{n-1}\}[T_n]$, then $g\in k\{ T_1,\ldots,T_{n-1}\}[T_n]$.
\end{lemma}
\begin{proof}
    By the division theorem of polynomial rings, we can write
    \[
        \omega g = q\omega+r  
    \]
    for some $q,r\in k\{ T_1,\ldots,T_{n-1}\}[T_n]$, $\deg_{T_n}r<\deg_{T_n}\omega g$. But we can write $\omega g= \omega \cdot g$. From the uniqueness part of \cref{thm-Weierstrassdivision}, we know that $q=g$, so $g$ is a polynomial in $T_n$.
\end{proof}

As a consequence, we deduce Weierstrass preparation theorem.
\begin{definition}
    Let $n\in \mathbb{Z}_{>0}$. A \emph{Weierstrass polynomial} in $n$-variables is a monic polynomial $\omega\in k\{T_1,\ldots,T_{n-1}\}[T_n]$ with $\|\omega\|_1=1$.
\end{definition}
\begin{lemma}\label{lma-Weierstrassfact}
    Let $n\in \mathbb{Z}_{>0}$ and $\omega_1,\omega\in k\{T_1,\ldots,T_{n-1}\}[T_n]$ be two monic polynomials. If $\omega_1\omega_2$ is a Weierstrass polynomial then so are $\omega_1$ and $\omega_2$.
\end{lemma}
\begin{proof}
    As $\omega_1$ and $\omega_2$ are monic, $\|\omega_i\|_1\geq 1$ for $i=1,2$. On the other hand, $\|\omega_1\|_1\cdot\|\omega_2\|_1=\|\omega_1\omega_2\|_1=1$, so $\|\omega_i\|_1= 1$ for $i=1,2$.
\end{proof}

\begin{thm}[Weierstrass preparation theorem]\label{thm-Weierstrasspreparation}
    Let $n\in \mathbb{Z}_{>0}$ and $g\in k\{T_1,\ldots,T_{n}\}$ be $X_n$-distinguished of degree $s$. Then there are a Weierstrass polynomial $\omega\in k\{T_1,\ldots,T_{n-1}\}[T_n]$ of degree $s$ and a unit $e\in k\{T_1,\ldots,T_{n}\}$ such that 
    \[
        g=e\omega.
    \]
    Moreover, $e$ and $\omega$ are unique. If $g\in k\{T_1,\ldots,T_{n-1}\}[T_n]$, then so is $e$.
\end{thm}
\begin{proof}
    We first prove the uniqueness. Assume that a decomposition as in the theorem is given. Let $r=T_n^s-\omega$. Then $T_n^s=e^{-1}g+r$. The uniqueness part of \cref{thm-Weierstrassdivision} implies that $e$ and $r$ are uniquely determined, hence so is $\omega$.

    Next we prove the existence.
    By Weierstrass division theorem \cref{thm-Weierstrassdivision}, we can write
    \[
          T_n^s=q g+r
    \]
    for some $q\in k\{T_1,\ldots,T_{n}\}$ and $r\in k\{T_1,\ldots,T_{n-1}\}[T_n]$ with $\deg_{T_n} r<s$. Let $\omega=T_n^s-r$. From the estimates in \cref{thm-Weierstrassdivision}, $\|r\|_1\leq 1$. So $\|\omega\|_1=1$.
    Then $\omega$ is a Weierstrass polynomial of degree $s$ and $\omega=q g$.
    It suffices to argue that $q$ is a unit. 

    We may assume that $\|g\|_1=1$. By taking reductions, we find
    \[
        \tilde{\omega}=\tilde{q}\tilde{g}.  
    \]
    As $\deg_{T_n}\tilde{g}=\deg_{T_n}\tilde{\omega}$ and the leading coefficients of both polynomials are units in $\tilde{k}[T_1,\ldots,T_{n-1}]$, it follows that $\tilde{q}$ is a unit in $\tilde{k}[T_1,\ldots,T_{n-1}]$. It follows that $\tilde{q}$ is also a unit in $\tilde{k}[T_1,\ldots,T_{n}]$. By \cref{lma-unitsTate}, $q$ is a unit in $k\{T_1,\ldots,T_{n}\}$.

    The lsat assertion is already proved in \cref{thm-Weierstrassdivision}.

\end{proof}

\begin{definition}
    Let $n\in \mathbb{Z}_{>0}$ and $g\in k\{T_1,\ldots,T_{n}\}$ be $X_n$-distinguished. Then the Weierstrass polynomial $\omega$ constructed in \cref{thm-Weierstrasspreparation} is called the \emph{Weierstrass polynomial} defined by $g$.
\end{definition}

\begin{corollary}\label{cor:quotientreplacedbyWeie}
    Let $n\in \mathbb{Z}_{>0}$ and $g\in k\{T_1,\ldots,T_{n}\}$ be $X_n$-distinguished. Let $\omega$ be the Weierstrass polynomial of $g$. Then the injection
    \[
        k\{T_1,\ldots,T_{n-1}\}[T_n]\rightarrow  k\{T_1,\ldots,T_{n}\}
    \]
    induces an isomorphism of $k$-algebras
    \[
        k\{T_1,\ldots,T_{n-1}\}[T_n]/(\omega)\rightarrow  k\{T_1,\ldots,T_{n}\}/(g).
    \]
\end{corollary}
\begin{proof}
    The surjectivity follows from \cref{thm-Weierstrassdivision} and the injectivity follows from \cref{lma-Weierstrasspolycancel2}.
\end{proof}

In the complex setting, we can perturb a convergent power series so that it has finite degree along a fixed axis, the corresponding result in the current setting is:
\begin{lemma}\label{lma-perturb}
    Let $n\in \mathbb{Z}_{>0}$ and $g\in k\{T_1,\ldots,T_{n}\}$ is non-zero. Then there is a $k$-algebra automorphism $\sigma$ of $k\{T_1,\ldots,T_{n}\}$ so that $\sigma(g)$ is $T_n$-distinguished.
\end{lemma}

\begin{proof}
    We may assume that $\|g\|_1=1$. We expand $g$ as
    \[
        g=\sum_{\alpha\in \mathbb{N}^n} a_{\alpha}T^{\alpha}.
    \]
    Endow $\mathbb{N}^n$ with the lexicographic order. Take the maximal $\beta\in \mathbb{N}^n$ so that $|a_{\beta}|=1$. Take $t\in \mathbb{Z}_{>0}$ so that $t\geq \max_{i=1,\ldots,n} \alpha_i$ for all $\alpha\in \mathbb{N}^n$ with $\tilde{a}_{\alpha}\neq 0$.

    We will define $\sigma$ by sending $T_i$ to $T_i+T_n^{c_i}$ for all $i=1,\ldots,n-1$. The $c_i$'s are to be defined. We begin with $c_n=1$ and define the other $c_i$'s inductively:
    \[
        c_{n-j}=1+t\sum_{d=0}^{j-1}c_{n-d}  
    \]
    for $j=1,\ldots,n-1$. We claim that $\sigma(f)$ is $T_n$-distinguished of order $s=\sum_{i=1}^n c_i \beta_i$.

    A straightforward computation shows that 
    \[
        \widetilde{\sigma(g)}=\sum_{i=1}^s p_i T_n^i  
    \]
    for some $p_i\in \tilde{k}[T_1,\ldots,T_{n-1}]$ and $p_s=\tilde{a_{\beta}}$. Our claim follows.
\end{proof}

\begin{proposition}\label{prop-strictnoetherian}
    Let $n\in \mathbb{N}$. Then $k\{T_1,\ldots,T_n\}$ is Noetherian.
\end{proposition}
\begin{proof}
    We make induction on $n$. The case $n=0$ is trivial. Assume that $n>0$. It suffices to show that for any non-zero $g\in k\{T_1,\ldots,T_n\}$, $k\{T_1,\ldots,T_n\}/(g)$ is Noetherian. By \cref{lma-perturb}, we may assume that $g$ is $T_n$-distinguished. By \cref{thm-Weierstrassdivision}, $k\{T_1,\ldots,T_n\}/(g)$ is a finite free $k\{T_1,\ldots,T_{n-1}\}$-module. By the inductive hypothesis and Hilbert basis theorem, $k\{T_1,\ldots,T_n\}/(g)$ is indeed Noetherian.
\end{proof}

\begin{proposition}\label{prop-TateJacobson}
    Let $n\in \mathbb{N}$. Then $k\{T_1,\ldots,T_n\}$ is Jacobson.
\end{proposition}
\begin{proof}
    When $n=0$, there is nothing to prove. We make induction on $n$ and assume that $n>0$. Let $\mathfrak{p}$ be a prime ideal in $k\{T_1,\ldots,T_n\}$, we want to show that the Jacobson radical of $\mathfrak{p}$ is equal to $\mathfrak{p}$. 
    
    We distinguish two cases. First we assume that $\mathfrak{p}\neq 0$. Let $\mathfrak{p}'=\mathfrak{p}\cap k\{T_1,\ldots,T_{n-1}\}$. By \cref{lma-perturb}, we may assume that $\mathfrak{p}$ contains a Weierstrass polynomial $\omega$. Observe that
    \[
        k\{T_1,\ldots,T_{n-1}\}/\mathfrak{p}'\rightarrow k\{T_1,\ldots,T_n\}/\mathfrak{p}
    \]
    is finite by \cref{thm-Weierstrassdivision}. For any $b\in J(k\{T_1,\ldots,T_n\}/\mathfrak{p})$ (where $J$ denotes the Jacobson radical), we consider a monic integral equation of minimal degree over $k\{T_1,\ldots,T_{n-1}\}/\mathfrak{p}'$:
    \[
        b^n+a_1b^{n-1}+\cdots+a_n=0,\quad a_i\in   k\{T_1,\ldots,T_{n-1}\}/\mathfrak{p}'.
    \]
    Then
    \[
        a_n\in J(k\{T_1,\ldots,T_{n}\}/\mathfrak{p})\cap k\{T_1,\ldots,T_{n-1}\}/\mathfrak{p}'=J(k\{T_1,\ldots,T_{n-1}\}/\mathfrak{p}')=0
    \]
    by our inductive hypothesis. It follows that $n=1$ and so $b=0$. This proves $J(k\{T_1,\ldots,T_{n}\}/\mathfrak{p})=0$.

    On the other hand, let us consider the case $\mathfrak{p}=0$. As $k\{T_1,\ldots,T_n\}$ is a valuation ring, it is an integral domain, so the nilradical is $0$. We need to show that
    \[
        J(k\{T_1,\ldots,T_n\})=0.  
    \]
    Assume that there is a non-zero element $f$ in $J(k\{T_1,\ldots,T_n\})$. We may assume that $\|f\|_1=1$. 
    
    We claim that there is $c\in k$ with $|c|=1$ such that $c+f$ is not a unit in $k\{T_1,\ldots,T_n\}$. Assuming this claim for the moment, we can find a maximal ideal $\mathfrak{m}$ of $k\{T_1,\ldots,T_n\}$ such that $c+f\in \mathfrak{m}$. But $f\in \mathfrak{m}$ by our assumption, so $c\in \mathfrak{m}$ as well. This contradicts the fact that $c\in k^{\times}$.
    
    It remains to prove the claim. We treat two cases separately. When $|f(0)|<1$, we simply take $c=1$, which works thanks to \cref{lma-unitsTate}.
    If $|f(0)|=1$, we just take $c=-f(0)$.
\end{proof}

\begin{proposition}\label{prop-Tatealgufd}
    Let $n\in \mathbb{N}$. Then $k\{T_1,\ldots,T_n\}$ is UFD. In particular, $k\{T_1,\ldots,T_n\}$ is normal.
\end{proposition}
\begin{proof}
    As $\|\bullet\|_1$ is a valuation by \cref{prop-TateGaussvaluation}, $k\{T_1,\ldots,T_n\}$ is an integral domain. In order to see that $k\{T_1,\ldots,T_n\}$ has the unique factorization property, we make induction on $n\geq 0$. When $n=0$, there is nothing to prove. Assume that $n>0$. Take a non-unit element $f\in k\{T_1,\ldots,T_n\}$. By \cref{thm-Weierstrasspreparation} and \cref{lma-perturb}, we may assume that $f$ is a Weierstrass polynomial. By inductive hypothesis, $k\{T_1,\ldots,T_{n-1}\}$ is a UFD, hence so is $k\{T_1,\ldots,T_{n-1}\}[T_n]$ by \cite[\href{https://stacks.math.columbia.edu/tag/0BC1}{Tag 0BC1}]{stacks-project}. It follows that $f$ can be decomposed into the products of monic prime elements $f_1,\ldots,f_r\in k\{T_1,\ldots,T_{n-1}\}[T_n]$, which are all Weierstrass polynomials by \cref{lma-Weierstrassfact}. Then by \cref{cor:quotientreplacedbyWeie}, we see that each $f_i$ is prime in $k\{T_1,\ldots,T_{n}\}$.

    Any UFD is normal by \cite[\href{https://stacks.math.columbia.edu/tag/0AFV}{Tag 0AFV}]{stacks-project}.
\end{proof}

\section{Noetherian normalization}
Let $(k,|\bullet|)$ be a complete non-trivially valued non-Archimedean valued-field. 

\begin{thm}\label{thm-Noetheriannorm}
    Let $A$ be a non-zero strictly $k$-affinoid algebra, $n\in \mathbb{N}$ and $\alpha:k\{T_1,\ldots,T_n\}\rightarrow A$ be a finite (resp. integral) $k$-algebra homomorphism. Then up to replacing $T_1,\ldots,T_n$ by an affinoid chart, we can guarantee that there exists $d\in \mathbb{N}$, $d\leq n$ such that $\alpha$ when restricted to $k\{T_1,\ldots,T_d\}$ is finite (resp. integral) and injective.
\end{thm}
\begin{proof}
    We make an induction on $n$. The case $n=0$ is trivial. Assume that $n>0$. If $\ker \alpha=0$, there is nothing to prove, so we may assume that $\ker \alpha\neq 0$. By \cref{lma-perturb} and \cref{thm-Weierstrasspreparation}, we may assume that there is a Weierstrass polynomial $\omega\in k\{T_1,\ldots,T_{n-1}\}[T_n]$ in $\ker \alpha$. Then $\alpha$ induces a finite (resp. integral) homomorphism $\beta:k\{T_1,\ldots,T_n\}/(\omega)\rightarrow A$. By \cref{thm-Weierstrassdivision}, $k\{T_1,\ldots,T_{n-1}\}\rightarrow k\{T_1,\ldots,T_n\}/(\omega)$ is a finite homomorphism. So their composition is a finite (resp. integral) homomorphism $k\{T_1,\ldots,T_{n-1}\}\rightarrow A$. We can apply the inductive hypothesis to conclude.
\end{proof}
\begin{corollary}\label{cor-noenormalization}
    Let $A$ be a non-zero strictly $k$-affinoid algebra, then there is $d\in \mathbb{N}$ and a finite injective $k$-algebra homomorphism: $k\{T_1,\ldots,T_d\}\rightarrow A$.
\end{corollary}
\begin{proof}
    Take some $n\in \mathbb{N}$ and a surjective $k$-algebra homomorphism $k\{T_1,\ldots,T_n\}\rightarrow A$ and apply \cref{thm-Noetheriannorm}, we conclude.
\end{proof}

\section{Properties of affinoid algebras}
Let $(k,|\bullet|)$ be a complete non-Archimedean valued-field.

\begin{proposition}\label{prop-powerbddinstrictlyaff}
    Assume that $k$ is non-trivially valued. Let $A$ be a strictly $k$-afifnoid algebra. Then
    \[
        \mathring{A}=\{f\in A: \rho(f)\leq 1\}.    
    \]
\end{proposition}
\begin{proof}
    It is clear that $\mathring{A}\subseteq \{f\in A: \rho(f)\leq 1\}$. Conversely, let $f\in A$, $\rho(f)\leq 1$. Choose $d\in \mathbb{N}$ and a surjective $k$-algebra homomorphism
    \[
        \varphi:k\{T_1,\ldots,T_d\}\rightarrow A.  
    \]
    Let $f^n+t_1f^{n-1}+\cdots+t_n=0$ be the minimal equation of $f$ over $k\{T_1,\ldots,T_d\}$. Then $t_i\in (k\{T_1,\ldots,T_d\})^{\circ}$ by \cref{Banach-prop-fsupspecexp} in the chapter Banach Rings. An induction on $i\geq 0$ shows that
    \[
        f^{n+i}\in \sum_{j=0}^{n-1}\varphi\left((k\{T_1,\ldots,T_d\})^{\circ} \right)f^j.
    \]
    The right-hand side is clearly bounded.
\end{proof}

\begin{thm}\label{thm-affnoetherian}
A $k$-affinoid algebra $A$ is Noetherian and all ideals of $A$ are closed.  
\end{thm}
\begin{proof}
    Let $I$ be an ideal in $A$. 
    By \cref{prop-redtostrictlykaff}, we can take a suitable $r\in \mathbb{R}^m_{>0}$ so that $A\hat{\otimes} K_r$ is strictly $K_r$-affinoid. Then $I (A\hat{\otimes} K_r)$ is an ideal in $A\hat{\otimes} K_r$. By \cref{prop-strictnoetherian}, the latter ring is Noetherian. So we may take finitely many generators $f_1,\ldots,f_k\in I$. Each $f\in I$ can be written as 
    \[
        f=\sum_{i=1}^k f_i g_i  
    \]
    with $g_i=\sum_{j=-\infty}^{\infty}g_{i,j}T^j\in A\hat{\otimes} K_r$. But then 
    \[
        f=\sum_{i=1}^k f_i g_{i,0}.  
    \]
    So $I$ is finitely generated.

    As $I=A\cap (I (A\hat{\otimes} K_r))$, by \cref{Banach-cor-idealclosed} in the chapter Banach Rings, we see that $I$ is closed in $A\hat{\otimes} K_r$ and hence closed in $A$.
\end{proof}

\begin{proposition}\label{prop-fnnormbyrho}
    Let $(A,\|\bullet\|)$ be a $k$-affinoid algebra and $f\in A$. Then there is $C>0$ and $N\geq 1$ such that for any $n\geq N$, we have
    \[
        \|f^n\|\leq C\rho(f)^n.  
    \]
\end{proposition}
Recall that $\rho$ is the spectral radius map defined in \cref{Banach-def-spectralradius} in the chatper Banach Rings.
\begin{proof}
    By \cref{prop-Krfaithflat}, we may assume that $k$ is non-trivially valued and $k$ is non-trivially valued.
    
    If $\rho(f)=0$, then $f$ lies in each maximal ideal of $A$. To see this, we may assume that $A$ is a field, then by \cref{Banach-prop-Berkospecnonempty} in the chapter Banach Rings, there is a bounded valuation $\|\bullet\|'$ on $A$. But then $\rho(f)=0$ implies that $\|f\|'=0$ and hence $f=0$.

    It follows that if $\rho(f)=0$ then $f$ lies in $J(A)$, the Jacobson radical of $A$. By \cref{prop-TateJacobson}, $A$ is a Jacobson ring. So $f$ is nilpotent. The assertion follows.

    So we can assume that $\rho(f)>0$. In this case, by \cref{cor-noenormalization} and \cref{Banach-prop-fsupspecexp} in the chapter Banach Rings, we have $\rho(f)\in \sqrt{|k^{\times}|}$. Take $a\in k^{\times}$ and $d\in \mathbb{Z}_{>0}$ so that $\rho(f)^d=|a|$. Then $\rho(f^d/a)=1$ and hence it is powerly-bounded by \cref{prop-powerbddinstrictlyaff}. It follows that there is $C>0$ so that for $n\geq 1$, 
    \[
        \|f^{nd}\|\leq C |a|^n=C\rho(f)^{nd}. 
    \]
    It follows that $\|f^n\|\leq C\rho(f)$ for $n\geq d$ as long as we enlarge $C$.
\end{proof}


\begin{corollary}\label{cor-univpropTatenonstrict}
    Let $\varphi:A\rightarrow B$ be a bounded homomorphism of $k$-affinoid algebras. Let $n\in \mathbb{N}$ and  $f_1,\ldots,f_n\in B$ and $r_1,\ldots,r_n\in \mathbb{R}_{>0}$ with $r_i\geq \rho(f_i)$ for $i=1,\ldots,n$. Write $r=(r_1,\ldots,r_n)$, then there is a unique bounded homomorphism $\Phi:A\{r^{-1}T\}\rightarrow B$ extending $\varphi$ and sending $T_i$ to $f_i$.
\end{corollary}
\begin{proof}
    The uniqueness is clear. Let us consider the existence. Given 
    \[
        f=\sum_{\alpha\in \mathbb{N}^n} a_{\alpha}T^{\alpha}\in A\{r^{-1}T\}, 
    \]
    we define 
    \[
        \Phi(h)=\sum_{\alpha\in \mathbb{N}^n} \varphi(a_{\alpha})f^{\alpha}. 
    \]
    It follows from \cref{prop-fnnormbyrho} that the right-hand side the series converges. The boundedness of $\Phi$ is obvious.
\end{proof}

\begin{proposition}\label{prop-admissepiperturbation}
    Let $(A,\|\bullet\|_A),(B,\|\bullet\|_B)$ be $k$-affinoid algebras, $r \in \mathbb{R}_{>0}^n$ and $\varphi:A\{r^{-1}T\}\rightarrow B$ be an admissible epimorphism. Write $f_i=\varphi(T_i)$ for $i=1,\ldots,n$. Then there is $\epsilon>0$ such that for any $g=(g_1,\ldots,g_n)\in B^n$ with $\|f_i-g_i\|_{B}<\epsilon$ for all $i=1,\ldots,n$, there exists a unique bounded $k$-algebra homomorphism $\psi: A\{r^{-1}T\}\rightarrow B$ that coincides with $\varphi$ on $A$ and sends $T_i$ to $g_i$. Moreover, $\psi$ is also an admissible epimorphism.
\end{proposition}
\begin{proof}
    The uniqueness of $\psi$ is obvious. We prove the remaining assertions.
    Taking $\epsilon>0$ small enough, we could further guarantee that $\rho(g_i)\leq r_i$. It follows from \cref{cor-univpropTatenonstrict} that there exists a bounded homomorphism $\psi$ as in the statement of the proposition.

    As $\varphi$ is an admissible epimorphism, we may assume that $\|\bullet\|_B$ is the residue induced by $\|\bullet\|_{r}$ on $A\{r^{-1}T\}$.

    By definition of the residue norm, for any $\delta>0$ and any $h\in B$, we can find 
    \[
        k_0=\sum_{\alpha\in \mathbb{N}^n}a_{\alpha} T^{\alpha}\in A\{r^{-1}T\}  
    \]
    with
    \[
        \|a_{\alpha}\|_A r^{\alpha}\leq (1+\delta)\|h\|_B 
    \]
    for any $\alpha \in \mathbb{N}^n$. Choose $\epsilon\in (0, (1+\delta)^{-1})$. Now for $g_1,\ldots,g_n$ as in the statement of the proposition, we can write
    \[
        h=\sum_{\alpha\in \mathbb{N}^n}  a_{\alpha}f^{\alpha}=\sum_{\alpha\in \mathbb{N}^n}  a_{\alpha}g^{\alpha}+h_1=\psi(k_0)+h_1.
    \]
    It follows that
    \[
      \|h_1\|_B=\left\| \sum_{\alpha\in \mathbb{N}^n}  a_{\alpha}(f^{\alpha}-g^{\alpha})\right\|_B\leq (1+\delta)\epsilon \|h\|_B.
    \]
    Repeating this procedure, we can construct $k_i\in A\{r^{-1}T\}$ for $i\in \mathbb{N}$ and $h_j\in B$ for $j\in \mathbb{Z}_{>0}$ such that for any $i\in \mathbb{Z}_{>0}$, we have
    \[
        \begin{aligned}
        h=&\psi(k_0+\cdots+k_{i-1})+h_i,\\
        \|k_i\|_r\leq & ((1+\delta)\epsilon)^i(1+\delta)\|h\|_B,\\
         \|h_i\|_B\leq & ((1+\delta)\epsilon)^i\|h\|_B.
        \end{aligned}
    \]
    In particular, $k:=\sum_{i=0}^{\infty} k_i$ converges in $A\{r^{-1}T\}$ and
    \[
        \|k\|_r\leq (1+\delta)\|h\|_B.
    \]  
    It follows that $\psi$ is an admissible epimorphism.
\end{proof}

\section{Finite modules over affinoid algebras}
Let $(k,|\bullet|)$ be a complete non-Archimedean valued field. 

For any $k$-affinoid algebra $A$, we have defined the category $\BanCat_A^f$ of finite Banach $A$-modules in \cref{Banach-def-finiteBanachmodules} in the chapter Banach Rings. We write $\ModCat_A^f$ for the category of finite $A$-modules. 

\begin{lemma}\label{lma-finiteBanachmodulemapbdd}
    Let $A$ be a $k$-affinoid algebra, $(M,\|\bullet\|_M)$ be a finite Banach $A$-module and $(N,\|\bullet\|_N)$ be a Banach $A$-module $N$.
    Let $\varphi:M\rightarrow N$ be an $A$-linear homomorphism. Then $\varphi$ is bounded.
\end{lemma}
\begin{proof}
    Take $n\in \mathbb{N}$ such that there is an admissible epimorphism 
    \[
        \pi:A^n\rightarrow M.  
    \]   
    It suffices to show that $\varphi\circ\pi$ is bounded. So we may assume that $M=A^n$. For $i=1,\ldots,n$, let $e_i$ be the vector with $(0,\ldots,0,1,0,\ldots,0)$ of $A^n$ with $1$ placed at the $i$-th place.
    Set $C=\max_{i=1,\ldots,n} \|\varphi(e_i)\|_N$. For a general $f=\sum_{i=1}^n a_i e_i$ with $a_i\in A$, we have
    \[
        \|\varphi(f)\|_N\leq C\|f\|_M.
    \]
    So $\varphi$ is bounded.
\end{proof}

\begin{proposition}\label{prop-finteBanachAmoduleequivfinitemodule}
    Let $A$ be a $k$-affinoid algebra. 
    The forgetful functor $\BanCat_A^f\rightarrow \ModCat_A^f$ is an equivalence of categories.
\end{proposition}

\begin{proof}
    It suffices to construct the inverse functor. Let $M$ be a finite $A$-module. Choose $n\in \mathbb{N}$ and an $A$-linear epimorphism $\pi:A^n\rightarrow M$. By \cref{thm-affnoetherian}, $\ker \pi$ is closed in $A^n$. We can endow $M$ with the residue norm. By \cref{lma-finiteBanachmodulemapbdd}, the equivalence class of the norm does not depend on the choice of $\pi$.

    For any $A$-linear homomorphism $f:M\rightarrow N$ of finite $A$-modules, we endow $M$ and $N$ with the Banach structures as above. It follows from \cref{lma-finiteBanachmodulemapbdd} that $f$ is bounded. We have defined the inverse functor of the forgetful functor  $\BanCat_A^f\rightarrow \ModCat_A^f$.
\end{proof}
\begin{remark}Let $A$ be a $k$-affinoid algebra. 
    It is not true that a Banach $A$-module which is finite as $A$-module is finite as Banach $A$-module. 

    As an example, take $0<p<q<1$ and $A=k\{q^{-1}T\}$, $B=k\{p^{-1}T\}$. Then $B$ is a Banach $A$-module.
    By \cref{ex-trivvaluedaff}, the underlying rings of $A$ and $B$ are both $k[[T]]$. So the canonical map $A\rightarrow B$ is bijective. But $B$ is not a finite $A$-module. As otherwise, the inverse map $B\rightarrow A$ is bounded by \cref{lma-finiteBanachmodulemapbdd}, which is not the case.

    The correct statement is the following: consider a Banach $A$-module $(M,\|\bullet\|_M)$ which is finite as $A$-module, then there is a norm on $M$ such that $M$ becomes a finite Banach $A$-module. The new norm is not necessarily equivalent to the given norm $\|\bullet\|_M$.
\end{remark}


\begin{proposition}\label{prop-finiteBanachtensor}
    Let $A$ be a $k$-affinoid algebra and $M,N$ be finite Banach $A$-modules. Then the natural map
    \[
        M\otimes_A N\rightarrow M\hat{\otimes}_A N
    \]
    is an isomorphism of Banach $A$-modules
    and $M\hat{\otimes}_A N$ is a finite Banach $A$-module.
\end{proposition}
Here the Banach $A$-module structure on $M\otimes_A N$ is given by \cref{prop-finteBanachAmoduleequivfinitemodule}.
\begin{proof}
    Choose $m,m'\in \mathbb{N}$ an admissibly coexact sequence
    \[
        A^{m'}\rightarrow A^m \rightarrow M\rightarrow 0  
    \]
    of Banach $A$-modules. Then we have a commutative diagram of $A$-modules:
    \[
        \begin{tikzcd}
            A^{m'}\otimes_A N \arrow[r] \arrow[d] & A^{m}\otimes_A N \arrow[r] \arrow[d] & M\otimes_A N \arrow[r] \arrow[d] & 0 \\
            A^{m'}\hat{\otimes}_A N \arrow[r]     & A^{m}\hat{\otimes}_A N \arrow[r]     & M\hat{\otimes}_A N \arrow[r]     & 0
        \end{tikzcd}  
    \]
    with exact rows. By $5$-lemma, in order to prove $M\otimes_A N\cn M\hat{\otimes}_A N$ and $M\hat{\otimes}_A N$ is a finite Banach $A$-module, we may assume that $M=A^m$ for some $m\in \mathbb{N}$. Similarly, we can assume $N=A^n$ for some $n\in \mathbb{N}$. In this case, the isomorphism is immediate and $M\hat{\otimes}_A N$ is clearly a finite Banach $A$-module. By \cref{lma-finiteBanachmodulemapbdd}, the Banach $A$-module structure on $M\hat{\otimes}_A N$ coincides with the Banach $A$-module strucutre on $M\otimes_A N$ induced by \cref{prop-finteBanachAmoduleequivfinitemodule}.
\end{proof}

\begin{proposition}\label{prop-finitemodulebasechange}
    Let $A$, $B$ be a $k$-affinoid algebra and $A\rightarrow B$ be a bounded $k$-algebra homomorphism. Let $M$ be a finite Banach $A$-module, then the natural map
    \[
        M\otimes_A B\rightarrow M\hat{\otimes}_A B  
    \]
    is an isomorphism of Banach $B$-modules and $M\hat{\otimes}_A B $ is a finite Banach $B$-module. 
\end{proposition}
\begin{proof}
    By the same argument as \cref{prop-finiteBanachtensor}, we may assume that $M=A^n$ for some $n\in \mathbb{N}$. In this case, the assertions are trivial.
\end{proof}

\begin{proposition}
    Let $A$ be a $k$-affinoid algebra and $M,N$ be finite Banach $A$-modules. Let $\varphi:M\rightarrow N$ be an $A$-linear map. Then $\varphi$ is admissible.
\end{proposition}
\begin{proof}
    By \cref{lma-finiteBanachmodulemapbdd}, $\varphi$ is always bounded.
    By \cref{prop-finitemodulebasechange} and \cref{prop-Krfaithflat}, we may assume that $k$ is non-trivially valued. By \cref{thm-affnoetherian}, $N$ is a Noetherian $A$-module. It follows from \cref{Banach-cor-idealclosed} in the chapter Banach Rings that $\Img \varphi$ is closed in $N$ and is finite as an $A$ module. In particular, the norm induced from $N$ and from $M$ are equivalent by \cref{lma-finiteBanachmodulemapbdd}. It follows that $\varphi$ is admissible.
\end{proof}

\begin{proposition}
    Let $A$ be a $k$-affinoid algebra. Let $n\in \mathbb{N}$ and $r=(r_1,\ldots,r_n)\in \mathbb{R}^n_{>0}$. Assume that $r_1,\ldots,r_n$ are linearly independent in the $\mathbb{Q}$-linear space $\mathbb{R}_{>0}/\sqrt{|k^{\times}|}$. Then $M$ is a finite Banach $A$-module if and only if $M\hat{\otimes}_k K_r$ is a finite Banach $A\hat{\otimes}_k K_r$-module.
\end{proposition}
\begin{proof}
    We may assume that $r$ has only one component and write $r_1=r$. The direct implication is trivial. Let us assume that $M\hat{\otimes}_k K_r$ is a finite Banach $A\hat{\otimes}_k K_r$-module. Take $n\in \mathbb{N}$ and an admissible epimorphism of $A\hat{\otimes}_k K_r$-modules
    \[
        \varphi:  (A\hat{\otimes}_k K_r)^n\rightarrow M\hat{\otimes}_k K_r.
    \]
    Let $e_1,\ldots,e_n$ denotes the standard basis of $(A\hat{\otimes}_k K_r)^n$. We expand
    \[
        \varphi(e_i)=\sum_{j=-\infty}^{\infty} m_{i,j}T^j.  
    \]
    By \cref{prop-admissepiperturbation}, we can assume that there is $l>0$ such that $m_{i,j}=0$ for all $i=1,\ldots,n$ and $|j|>l$. It follows that 
    \[
        A^{n(2l+1)}\rightarrow M  
    \]
    sending the standard basis to $m_{i,j}$ with $i=1,\ldots,n$ and $j=-l,-l+1,\ldots,l$ is an admissible epimorphism.
\end{proof}

\section{Graded reduction}

\printbibliography
\end{document}