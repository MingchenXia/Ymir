\input{preamble}
\title{Ymir}
\begin{document}
\maketitle
\tableofcontents


\chapter*{Banach rings}\label{chap-Banach}
\section{Introduction}\label{sec-introduction-BanachRings}

This section conerns the theory of Banach algebras. Our references are \cite{Berk12} and \cite{BGR}.

In this chapter, all rings are assumed to be commutative.

\section{Semi-normed Abelian groups}

\begin{definition}
    Let $A$ be an Abelian group. A \emph{semi-norm} on $A$ is a function $\|\bullet\|:A\rightarrow [0,\infty]$ satisfying
    \begin{enumerate}
        \item $\|0\|=0$;
        \item $\|f-g\|\leq \|f\|+\|g\|$ for all $f,g\in A$.
    \end{enumerate}
    A semi-norm $\|\bullet\|$ on $A$ is a \emph{norm} if moreover the following conditions is satisfied:
    \begin{enumerate}
        \item[(0)] if $\|f\|=0$ for some $f\in A$, then $f=0$.
    \end{enumerate}
    We write
    \[
        \ker \|\bullet\|=\{a\in A:\|a\|=0\}.
    \]

    A semi-norm $\|\bullet\|$ on $A$ is \emph{non-Archimedean} or \emph{ultra-metric} if Condition~(2) can be replaced by
    \begin{enumerate}[resume]
        \item[(2')] $\|f-g\|\leq \max\{\|f\|,\|g\|\}$ for all $f,g\in A$.
    \end{enumerate}
\end{definition}
\begin{definition}
    A \emph{semi-normed Abelian group} (resp. \emph{normed Abelian group}) is a pair $(A,\|\bullet\|)$ consisting of an Abelian group $A$ and a semi-norm (resp. norm) $\|\bullet\|$ on $A$. When $\|\bullet\|$ is clear from the context, we also say $A$ is a semi-normed Abelian group (resp. normed Abelian group).
\end{definition}


\begin{definition}\label{def-quotsubsemnorm}
    Let $(A,\|\bullet\|_A)$ be a semi-normed Abelian group and $B\subseteq A$ be a subgroup. Then we define the \emph{quotient semi-norm} $\|\bullet\|_{A/B}$ on $A/B$ as follows:
    \[
      \|a+B\|_{A/B}:=\inf\{\|a+b\|_A:b\in B\}  
    \]
    for all $a+B\in A/B$.

    We define the \emph{subgroup semi-norm} on $B$ as follows:
    \[
        \|b\|_B=\|b\|_A
    \]
    for all $b\in B$.
\end{definition}

\begin{definition}
    Let $A$ be an Abelian group and $\|\bullet\|$, $\|\bullet\|'$ be two seminorms on $A$. We say $\|\bullet\|$ and $\|\bullet\|'$ are \emph{equivalent} if there is a constant $C>0$ such that
    \[
      C^{-1}\|f\|\leq \|f\|'\leq C\|f\|   
    \]
    for all $f\in A$.
\end{definition}

\begin{definition}\label{def-admissiblemorphism}
    Let $(A,\|\bullet\|_A)$, $(B,\|\bullet\|_B)$ be semi-normed Abelian groups. A homomorphism $\varphi:A\rightarrow B$ is said to be 
    \begin{enumerate}
        \item \emph{bounded} if there is a constant $C>0$ such that $\|\varphi(f)\|_B\leq C \|f\|_{A}$ for any $f\in A$;
        \item \emph{admissible} if the quotient semi-norm on $A/\ker \varphi$ is equivalent to the subspace semi-norm on $\Img \varphi$.
    \end{enumerate}
\end{definition}
Observe that an admissible homomorphism is always bounded.

Next we study the topology defined by a semi-norm.
\begin{lemma}\label{lma-pmetricinducedbyseminorm}
    Let $(A,\|\bullet\|)$ be a semi-normed Abelian group. Define
    \[
      d(a,b)=\|a-b\|  
    \]
    for $a,b\in A$. Then $\|\bullet\|$ is a pseudo-metric on $A$. This psuedo-metric is a metric if and only if $\|\bullet\|$ is a norm.

    Let $\hat{A}$ be the metric completion of $A$, then there is a norm $\|\bullet\|$ on $\hat{A}$ inducing its metric. Moreover, the natural homomorphism $A\rightarrow \hat{A}$ is an isometric homomorphism with dense image.
\end{lemma}
\begin{proof}
    This is clear from the definitions.
\end{proof}
We always endow $A$ with the topology induced by the psuedo-metric $d$.

\begin{proposition}\label{prop-bddimplycont}
    Let $f:A\rightarrow B$ be a homomorphism between semi-normed Abelian groups. Assume that $f$ is bounded, then it is continuous.
\end{proposition}
The converse is not true.
\begin{proof}
    Clear from the definition.
\end{proof}

\begin{proposition}\label{prop-epsilondenseimpliesdense}
    Let $(A,\|\bullet\|)$ be a normed Abelian group and $B$ be a subgroup of $A$. Assume that there is $\epsilon\in (0,1)$ such that for each $a\in A$, there is $b\in B$ such that
    \[
      \|a+b\|\leq \epsilon \|a\|.  
    \]
    Then $B$ is dense in $A$.
\end{proposition}
\begin{proof}
    Assume to the contrary that there exists $a\in A$ so that
    \[
      c:=\inf_{b\in B}\|a-b\|>0.  
    \]
    Choose $b_1\in B$ so that
    \[
      \|a+b_1\|<\epsilon^{-1}c.
    \]
    By our hypothesis, there is $b_2\in B$ such that
    \[
      \|a+b_1+b_2\|\leq \epsilon\|a+b_1\|<c.  
    \]
    This is a contradiction.
\end{proof}

\begin{definition}\label{def-completionAbgroups}
    Let $(A,\|\bullet\|)$ be a semi-normed Abelian group. The normed Abelian group $(\hat{A},\|\bullet\|)$ constructed in \cref{lma-pmetricinducedbyseminorm} is called the \emph{completion} of $(A,\|\bullet\|)$.
\end{definition}



\section{Semi-normed rings}

\begin{definition}\label{def-seminormring}
    Let $A$ be a ring. A \emph{semi-norm} $\|\bullet\|$ on $A$ is a semi-norm $\|\bullet\|$ on the underlying additive group satisfying the following extra properties: 
    \begin{enumerate}
        \item[(3)]  $\|1\|=1$;
        \item[(4)] for any $f,g\in A$, $\|fg\|\leq \|f\|\cdot \|g\|$.
    \end{enumerate}
    
    A semi-norm $\|\bullet\|$ on $A$ is called \emph{power-multiplicative} if $\|f\|^n=\|f^n\|$ for all $f\in A$ and $n\in \mathbb{N}$.

    A semi-norm $\|\bullet\|$ on $A$ is called \emph{multiplicative} if $\|fg\|=\|f\|\|g\|$ for all $f,g\in A$.

\end{definition}

\begin{definition}
    A \emph{semi-normed ring} (resp. \emph{normed ring}) is a pair $(A,\|\bullet\|)$ consisting of a ring $A$ and a semi-norm (resp. norm) $\|\bullet\|$ on $A$. When $\|\bullet\|$ is clear from the context, we also say $A$ is a semi-normed  ring (resp. normed ring).
\end{definition}

\begin{definition}
    Let $(A,\|\bullet\|)$ be a semi-normed ring. An element $a\in A$ is \emph{multiplicative} if $a\not\in \ker\|\bullet\|$ and for any $x\in A$,
    \[
      \|ax\|=\|a\|\cdot\|x\|.  
    \]
\end{definition}

\begin{definition}\label{def-topnilpowerbdd}
    Let $(A,\|\bullet\|)$ be a normed ring. An element $a\in A$ is \emph{power-bounded} if $\{|a^n|:n\in \mathbb{N}\}$ is bounded in $\mathbb{R}$. The set of power-bounded elements in $A$ is denoted by $\mathring{A}$.

    An element $a\in A$ is called \emph{topologically nilpotent} if $a^n\to 0$ as $n\to\infty$. The set of topologically nilpotent elements in $A$ is denoted by $\check{A}$.


\end{definition}

\begin{proposition}\label{prop-topnilring}
    Let $(A,\|\bullet\|)$ be a non-Archimedean normed ring. Then $\mathring{A}$ is a subring of $A$ and $\check{A}$ is an ideal in $\mathring{A}$. Moreover, $\mathring{A}$, $\check{A}$ are open and closed in $A$.
\end{proposition}
\begin{proof}
    Choose $a,b\in \mathring{A}$, by definition, there is a constant $C>0$ so that for any $n\in \mathbb{N}$,
    \[
      \|a^n\|\leq C,\quad \|b^n\|\leq C.  
    \]
    It follows that
    \[
      \|(ab)^n\|\leq \|a^n\|\cdot \|b^n\|\leq C^2  
    \]
    and
    \[
      \|(a-b)^n\|\leq  \max_{i=0,\ldots,n}\|a^ib^{n-i}\|\leq C^2. 
    \]
    So $\mathring{A}$ is a subring.

    Next we show that $\check{A}$ is an ideal in $\mathring{A}$.
    On the other hand, take $c\in \check{A}$, then
    \[
        \|(ac)^n\|\leq \|a^n\|\cdot \|c^n\|\leq C\|c^n\|  
    \]
    But $\|c^n\|\to 0$ as $n\to \infty$, hence $ac\in \check{A}$. 
    
    On the other hand, consider $c,d\in \check{A}$, we need to show $c-d\in \check{A}$. Choose $C>0$ so that
    \[
        \|a^n\|\leq C,\quad \|b^n\|\leq C  
    \]
    for all $n\in \mathbb{N}$. Fix $\epsilon>0$, then there is $m\in \mathbb{N}$ so that for any $k\geq m$,
    \[
        \|a^k\|\leq \epsilon C^{-1},\quad   \|b^k\|\leq \epsilon C^{-1}.
    \]
    In particular, for $k\geq 2m$, we have
    \[
        \|(a-b)^k\|\leq \max_{i=0,\ldots,k} \|a^i\|\cdot\|b^{k-i}\|\leq \epsilon.
    \]
    It follows that $a-b\in \check{A}$. 
    This proves that $\check{A}$ is an ideal in $\mathring{A}$.

    In order to see $\check{A}$ is open and closed in $A$, observe that it is a subgroup of $A$, so it suffices to show that $\check{A}$ is open in $A$. It suffices to show that
    \[
        \{a\in A:\|a\|<1\}\subseteq  \check{A}. 
    \]
    But this is obvious, if $\|a\|<1$, then $\|a^n\|\leq \|a\|^n$ for all $n\in \mathbb{N}$, it follows that $a^n\to 0$ as $n\to\infty$, namely, $a\in \check{A}$.

    As $\check{A}$ is a subgroup of $\mathring{A}$, it follows that $\mathring{A}$ is both open and closed.
\end{proof}

\begin{definition}\label{def-reduction}
    Let $(A,\|\bullet\|)$ be a non-Archimedean normed ring. We define the \emph{reduction} of $A$ as $\tilde{A}=\mathring{A}/\check{A}$. The map $\mathring{A}\rightarrow \tilde{A}$ is called the \emph{reduction map}. We usually denote the reduction map by $a\mapsto \tilde{a}$.
\end{definition}
This definition makes sense thanks to \cref{prop-topnilring}.

\begin{definition}
    Let $A$ be a ring. A \emph{semi-valuation} on $A$ is a multiplicative semi-norm on $A$. A semi-valuation on $A$ is a \emph{valuation} on $A$ if its underlying semi-norm of Abelian groups is a norm. 
\end{definition}

\begin{definition}
    A \emph{semi-valued ring} (resp. \emph{valued ring}) is a pair $(A,\|\bullet\|)$ consisting of a ring $A$ and a semi-valuation (resp. valuation) $\|\bullet\|$ on $A$. When $\|\bullet\|$ is clear from the context, we also say $A$ is a semi-valued  ring (resp. valued ring).

    A semi-valued ring (resp. valued ring) $(A,\|\bullet\|)$ is called a \emph{semi-valued field} (resp. \emph{valued field}) if $A$ is a field.
\end{definition}

\iffalse
\begin{lemma}\label{lma-gausslemmav1}
    Let $(A,\|\bullet\|)$ be a normed ring. Assume that 
    \begin{enumerate}
        \item For any $a\in A$, $a\neq 0$, there is a multiplicative element $m\in A$ and $s\in \mathbb{Z}_{>0}$ such that $\|ma^s\|=\|m\|\cdot \|a\|^s=1$;
        \item $\tilde{A}$ is an integral domain.
    \end{enumerate}
    Then $\|\bullet\|$ is a valuation.
\end{lemma}
\begin{proof}
    Take $a_1,a_2\in A$ such that $|a_1a_2|<|a_1|\cdot |a_2|$. By (1), we can
    choose multiplicative elements $m_1,m_2\in A$ and $s_1,s_2\in \mathbb{Z}_{>0}$ so that
    \[
        \|m_1a_1^{s_1}\|=\|m_1\|\cdot\|a_1\|^{s_1}=1,\quad \|m_2a_2^{s_2}\|=\|m_2\|\cdot\|a_2\|^{s_2}=1.  
    \]
    In particular, $m_ia_i^{s_i}\in \mathring{A}\setminus \check{A}$ for $i=1,2$. We may assume that $s_2\geq s_1$. As $m_1,m_2$ are multiplicative, we find
    \[
        \begin{split}
            \|(m_1a_1^{s_1})(m_2a_2^{s_2})\|=\|m_1\|\cdot\|m_2\|\cdot \|a_1^{s_1}a_2^{s_2}\|\leq \|m_1\|\cdot\|m_2\|\cdot \|a_1a_2\|^{s_1}\|a_2\|^{s_2-s_1} \\
            < \|m_1\|\cdot\|m_2\|\cdot (\|a_1\| \cdot\|a_2\|)^{s_1}\|a_2\|^{s_2-s_1}=1.
        \end{split}
    \]
    This contradicts (2).
\end{proof}
\fi

\section{Banach rings}

\begin{definition}
    A \emph{Banach ring} is a normed ring that is complete with respect to the metric defined in \cref{lma-pmetricinducedbyseminorm}.
\end{definition}

\begin{definition}
    A Banach ring $(A,\|\bullet\|_A)$ is \emph{uniform} if $\|\bullet\|_A$ is power-multiplicative.
\end{definition}

\begin{definition}\label{def-completionring}
    Let $A$ be a semi-normed ring. There is an obvious ring structure on the completion $\hat{A}$ of $A$ defined in \cref{def-completionAbgroups}. We call the resulting Banach ring the \emph{completion} of $A$.
\end{definition}

\begin{proposition}\label{prop-inversesmallelementBanachring}
    Let $(A,\|\bullet\|)$ be a Banach ring and $f\in A$. Assume that $\|f\|<1$, then $1-f$ is invertible.
\end{proposition}
\begin{proof}
    Define 
    \[
        g=\sum_{i=0}^{\infty}f^i.
    \]
    From our assumption, the series converges and $g\in A$. It is elementary to check that $g$ is the inverse of $1-f$.
\end{proof}
In the non-Archimedean case, we have a stronger result:

\begin{proposition}\label{prop-inversesmallelementBanachring2}
    Let $(A,\|\bullet\|)$ be a non-Archimedean Banach ring and $f\in \check{A}$. Then $1-f$ is invertible. Moreover, $(1-f)^{-1}$ can be written as $1+z$ for some $z\in \check{A}$.
\end{proposition}
\begin{proof}
    Define 
    \[
        g=\sum_{i=0}^{\infty}f^i.
    \]
    From our assumption, the series converges and $g\in A$. It is elementary to check that $g$ is the inverse of $1-f$. Moreover, in view of \cref{prop-topnilring} as for any $i\geq 1$, $f^i\in \check{A}$, the same holds for their sum, we conclude the final assertion.
\end{proof}

\begin{corollary}\label{cor-Banachringinvopen}
    Let $(A,\|\bullet\|)$ be a Banach ring. Then the set of invertible elements in $A$ is open.
\end{corollary}
\begin{proof}
    Let $x\in A$ be an invertible element. It suffices to show that for any $y\in A$, $|y|<1/(\|x^{-1}\|)$, $y+x$ is invertible. For this purpose, it suffices to show that $1+x^{-1}y$ is invertible. But this follows from \cref{prop-inversesmallelementBanachring}.
\end{proof}

\begin{corollary}\label{cor:maximalidealclosedinBanachring}
    Let $A$ be a Banach ring and $\mathfrak{m}$ be a maximal ideal in $A$. Then $\mathfrak{m}$ is closed.
\end{corollary}
\begin{proof}
    The closure $\bar{\mathfrak{m}}$ is obviously an ideal in $A$. We need to show that $\mathfrak{m}\neq A$. Namely, $1$ is not in the closure of $\mathfrak{m}$. But clearly, $\mathfrak{m}$ is contained in the set of non-invertible elements, the latter being closed by \cref{cor-Banachringinvopen}. So we conclude.
\end{proof}

\begin{lemma}\label{lma-unitmoduloreduction}
    Let $A$ be a non-Archimedean Banach ring. An element $a\in \mathring{A}$ is a unit in $\mathring{A}$ if and only if $\tilde{a}$ is a unit in $\tilde{A}$.
\end{lemma}
\begin{proof}
    The direct implication is trivial. Conversely, assume that $a\in \mathring{A}$ and there is an element $b\in \mathring{A}$ such that
    \[
        \tilde{a}\tilde{b}=1.  
    \]
    Then $1-ab\in \check{A}$. It follows from \cref{prop-inversesmallelementBanachring2} that $ab$ is a unit in $\mathring{A}$ and hence $a$ is a unit in $\mathring{A}$.
\end{proof}

\begin{definition}\label{def-spectralradius}
    Let $(A,\|\bullet\|)$ be a Banach ring. We define the \emph{spectral radius} $\rho=\rho_A:A\rightarrow [0,\infty)$ as follows:
    \[
        \rho(f)=\inf_{n\geq 1} \|f^n\|^{1/n},\quad f\in A.
    \]
\end{definition}

\begin{lemma}
    Let $(A,\|\bullet\|)$ be a Banach ring. Then for any $f\in A$, we have 
    \[
        \rho(f)=  \lim_{n\to \infty} \|f^n\|^{1/n}.
    \]
\end{lemma}
\begin{proof}
    This follows from the multiplicative version of Fekete's lemma.
\end{proof}





\begin{example}
    The ring $\mathbb{C}$ with its usual norm $|\bullet|$ is a Banach ring. In fact, $(\mathbb{C},|\bullet|)$ is a complete valued field.
\end{example}

\begin{example}\label{ex-Banachringproduct}
    Let $\{(A_i,\|\bullet\|_i\}_{i\in I}$ be a family of Banach rings. We define their \emph{product} $\prod_{i\in I}A_i$ as the following Banach ring: as a set it consists of all elements $f=(f_i)_{i\in I}$ with 
    \[ 
        \|f\|:=\sup_{i\in I}\|f_i\|_i<\infty.
    \]
    The norm is given by $\|\bullet\|$. It is easy to verify that $\prod_{i\in I}A_i$ is indeed a Banach ring.
\end{example}

\begin{example}\label{ex-convseriesradius}
    For any Banach ring $(A,\|\bullet\|)$, any $n\in \mathbb{N}$ and any $r=(r_1,\ldots,r_n)\in \mathbb{R}^n_{>0}$, we define $A\langle r^{-1}z \rangle =A\langle r_1^{-1}z_1,\ldots, r_n^{-1}z_n\rangle$ as the subring of $A[[z_1,\ldots,z_n]]$ consisting of formal power series
    \[
      f=\sum_{\alpha\in \mathbb{N}^{n}} a_{\alpha}z^{\alpha},\quad a_{\alpha}\in A  
    \]
    such that
    \[
        \|f\|_r:=   \sum_{\alpha\in \mathbb{N}^{n}} \|a_{\alpha}\|r^{\alpha}<\infty.
    \]
    We will verify in \cref{prop-convseriesradiusBanach} that $(A\langle r^{-1}z \rangle ,\|\bullet\|_r)$ is a Banach ring.

    When $r=(1,\ldots,1)$, we omit $r^{-1}$ from our notations.
\end{example}

\begin{proposition}\label{prop-convseriesradiusBanach}
    In the setting of \cref{ex-convseriesradius}, $(A\langle r^{-1}z \rangle  ,\|\bullet\|_r)$ is a Banach ring.
\end{proposition}
\begin{proof}
    By induction, we may assume that $n=1$.

    It is obvious that $\|\bullet\|_r$ is a norm on the undelrying Abelian group. To see that $\|\bullet\|_r$ is a norm on the ring $A\langle r^{-1}z \rangle $, we need to verify the condition in \cref{def-seminormring}. Condition~(3) in \cref{def-seminormring} is obvious. 
    Let us consider Condition~(4). 
    Let 
    \[
        f=\sum_{i=0}^{\infty} a_i z^i,\quad g=\sum_{j=0}^{\infty} b_j z^j
    \]
    be two elements in $A\langle r^{-1}z \rangle $. Then
    \[
        fg=\sum_{k=0}^{\infty} \left(\sum_{i+j=k}a_i b_j\right) z^k. 
    \]
    We compute
    \[
        \|fg\|_r=  \sum_{k=0}^{\infty} \left\|\sum_{i+j=k}a_i b_j\right\| r^k\leq \sum_{k=0}^{\infty} \left(\sum_{i+j=k}\|a_i\|\cdot \|b_j\|\right) r^k=\|f\|_r\cdot \|g\|_r. 
    \]
    It remains to verify that $A\langle r^{-1}z \rangle$ is complete. 


    For this purpose, take a Cauchy sequence 
    \[
        f^b=\sum_{i=0}^{\infty}a^b_i z^i\in A\langle r^{-1}z \rangle
    \]
    for $b\in \mathbb{N}$. Then for each $i$, the coefficients $(a^b_i)_b$ is a Cauchy sequence in $A$. Let $a_i$ be the limit of $a^b_i$ as $b\to\infty$ and set 
    \[
        f=\sum_{i=0}^{\infty}a_i z^i\in A[[z]].
    \]
    We need to show that $f\in A\langle r^{-1}z \rangle$ and $f^b\to f$. 
    
    Fix a constant $\epsilon>0$. There is $m=m(\epsilon)>0$ such that for all $j\geq m$ and all $k\geq 0$, we have
    \[
        \sum_{i=0}^{\infty}\|a^{j+k}_i-a^{j}_i\|r^{i}<\epsilon/2.
    \]
    In particular, for any $s>0$, we have
    \[
        \sum_{i=0}^{s}\|a_i-a^{j}_i\|r^{i}\leq \sum_{i=0}^{s}\|a_i-a^{j+k}_i\|r^{i}+\sum_{i=0}^{s}\|a^j_i-a^{j+k}_i\|r^{i}\leq \sum_{i=0}^{s}\|a_i-a^{j+k}_i\|r^{i}+\epsilon/2.
    \]
    When $k$ is large enough, we can guarantee that
    \[
        \sum_{i=0}^{s}\|a_i-a^{j+k}_i\|r^{i}<\epsilon/2.  
    \]
    So
    \[
        \sum_{i=0}^{s}\|a_i-a^{j}_i\|r^{i}\leq \epsilon.  
    \]
    Let $s\to\infty$, we find
    \[
        \|f-f^j\|_r\leq \sum_{i=0}^{\infty}\|a_i-a^{j}_i\|r^{i}\leq \epsilon.  
    \]
    In particular, $\|f\|_r<\infty$ and $f^j\to f$ as $j\to\infty$.
\end{proof}


\begin{example}\label{ex-strictconvseriesradius}
    For any non-Archimedean Banach ring $(A,\|\bullet\|)$, any $n\in \mathbb{N}$ and any $r=(r_1,\ldots,r_n)\in \mathbb{R}^n_{>0}$, we define $A\{ r^{-1}T \} =A\{ r_1^{-1}T_1,\ldots, r_n^{-1}T_n \}$ as the subring of $A[[T_1,\ldots,T_n]]$ consisting of formal power series
    \[
      f=\sum_{\alpha\in \mathbb{N}^{n}} a_{\alpha}T^{\alpha},\quad a_{\alpha}\in A  
    \]
    such that $\|a_{\alpha}\|r^{\alpha}\to 0$ as $|\alpha|\to\infty$. We set
    \[
        \|f\|_r:=   \max_{\alpha\in \mathbb{N}^{n}} \|a_{\alpha}\|r^{\alpha}.
    \]
    We will verify in \cref{prop-strictconvseriesradiusBanach} that $(A\langle r^{-1}T \rangle ,\|\bullet\|_r)$ is a Banach ring.

    The semi-norm $\|\bullet\|_r$ is called the \emph{Gauss norm}. 
\end{example}

\begin{proposition}\label{prop-strictconvseriesradiusBanach}
    In the setting of \cref{ex-strictconvseriesradius}, $(A\{ r^{-1}T \}  ,\|\bullet\|_r)$ is a Banach ring.

    Moreover, if the norm $\|\bullet\|$ on $A$ is a valuation, so is $\|\bullet\|_r$.
\end{proposition}
The second part is usually known as the \emph{Gauss lemma}.

\begin{proof}
    By induction on $n$, we may assume that $n=1$.

    The proof of the fact that $\|\bullet\|_r$ is a norm is similar to that of \cref{prop-convseriesradiusBanach}. We leave the details to the readers.

    Next we argue that $(A\{ r^{-1}T \}  ,\|\bullet\|_r)$  is complete. 
    Take a Cauchy sequence 
    \[
        f^b=\sum_{i=0}^{\infty}a^b_i T^i\in A\{ r^{-1}T \}
    \]
    for $b\in \mathbb{N}$. As 
    \[
        \|a^b_i-a^{b'}_i\|r^i\leq \|f^b-f^{b'}\|_r
    \]
    for any $i,b,b'\geq 0$, it follows that for any $i\geq 0$, $\{a^b_i\}_b$ is a Cauchy sequence. Let $a_i\in A$ be its limit and set 
    \[
        f=\sum_{i=0}^{\infty}a_i T^i\in A[[T]].
    \]
    We need to show that $f\in A\{ r^{-1}T \}$ and $f^b\to f$.
    
    Fix $\epsilon>0$. We can find $m=m(\epsilon)>0$ such that for all $j\geq m$ and all $k\geq 0$, 
    \[
      \|f^j-f^{j+k}\|_r\leq \epsilon.  
    \]
    It follows that $\|a^j_i-a^{j+k}_i\|r^i\leq \epsilon$ for all $i\geq 0$. Let $k\to\infty$, we find
    \[
        \|a^j_i-a_i\|r^i\leq \epsilon
    \]
    for all $i\geq 0$. Fix $j\geq 0$, take $i$ large enough so that $|a^j_i|r^i<\epsilon$. Then $\|a_i\|r^i\leq \epsilon$. So we find $f\in A\{r^{-1}T\}$. On the other hand,
    \[
         \|f-f^j\|_r=\max_{i} \|a^j_i-a_i\|r^i\leq \epsilon.  
    \]
    This proves that $f^j\to f$.

    Now assume that $\|\bullet\|$ is a valuation, we verify that $\|\bullet\|_r$ is also a valuation. Again, we may assume that $n=1$. Take two elements $f,g\in A\{r^{-1}T\}$:
    \[
        f=\sum_{i=0}^{\infty}a_i T^i,\quad g=\sum_{j=0}^{\infty}b_j T^j.
    \]
    As we have already shown $|fg|_r\leq |f|_r|g|_r$, it suffices to check the reverse inequality. For this purpose, choose the minimal indices $i$, $j$ so that
    \[
        \|f\|_r=\|a_i\|r^i,\quad \|g\|_r=\|b_j\|r^j.  
    \]
    Write
    \[
        fg=\sum_{k=0}^{\infty} \left(\sum_{p+q=k}a_pb_q  \right)T^k.
    \]
    Then we claim that
    \[
        \left\|\sum_{p+q=k}a_pb_q\right\| r^k =  \|f\|_r \|g\|_r
    \] 
    when $k=i+j$.
    This implies the desired inequality.  Of course, we may assume that $a_i\neq 0$ and $b_j\neq 0$ as otherwise there is nothing to prove.
    To verify our claim, it suffices to observe that for $(p,q)\neq (i,j)$, $r+s=i+j$, say $p<i$ and $q>j$, we have
    \[
        \|a_p b_q\|r^k=\|a_p\|r^p\cdot \|b_q\|r^q<\|a_i\|r^i\cdot \|b_j\|r^j.
    \]
    So 
    \[
        \|a_p b_q\|< \|a_i b_j\|.
    \]
    Since the valuation on $A$ is non-Archimedean, it follows that 
    \[
        \|\sum_{p+q=k}a_pb_q\|=\|a_ib_j\|.  
    \]
    Our claim follows.
\end{proof}
\begin{remark}\label{rmk-semivaluationinducetate}
    More generally, it $A$ is endowed with a semi-valuation $\|\bullet\|'$, then the same procedure and the same proof produces a semi-valuation on $A\{ r^{-1}T \}$.
\end{remark}

\begin{proposition}\label{prop-Tateunivprop}
    Let $A$, $B$ be a non-Archimedean Banach ring and $f:A\rightarrow B$ be a continuous homomorphism. Then for any $b\in \mathring{B}$, there is a unique continuous homomorphism $F:A\{T\}\rightarrow B$ extending $f$ and sending $T$ to $b$. 
\end{proposition}
\begin{proof}
    From the continuity and the fact that $A[T]$ is dense in $A\{T\}$, $F$ is clearly unique. To prove the existence, we define $F$ directly: consider $g=\sum_{i=0}^{\infty}a_i T^i\in A\{T\}$, we define
    \[
        F(g):=\sum_{i=0}^{\infty} f(a_i)f^i.      
    \]
    As $f_i\in \mathring{A}$ and $a_i\to 0$, the right-hand side is well-defined. It is straightforward to check that $F$ is a continuous homomorphism.
\end{proof}

\begin{proposition}\label{prop-strictlyconvcirccheck}
    For any non-Archimedean Banach ring $(A,\|\bullet\|)$, we have 
    \[
        (A\{T\})^{\circ}=\mathring{A}\{T\},\quad (A\{T\})^{\check{}}=\check{A}\{T\}.  
    \]
\end{proposition}
For the definitions of $\mathring{\bullet}$ and $\check{\bullet}$, we refer to \cref{def-topnilpowerbdd}.
\begin{proof}
    We first show that
    \[
        \mathring{A}\{T\}\subseteq (A\{T\})^{\circ}.
    \]
    Let $f\in \mathring{A}\{T\}$. We expand $f$ as
    \[
        f=\sum_{i=0}^{\infty}a_i T^i,\quad a_i\in  \mathring{A}. 
    \] 
    Then for each $i,j\in \mathbb{N}$, $\|a_iT^i\|_1^j=\|a_i\|^j$. So for each $i\in \mathbb{N}$, $a_iT^i\in (A\{T\})^{\circ}$. By \cref{prop-topnilring}, it follows that $f\in (A\{T\})^{\circ}$.

    Next we prove the reverse inclusion. Take $f\in (A\{T\})^{\circ}$, suppose by contrary that $f\not\in \mathring{A}\{T\}$. Expand $f$ as
    \[
        f=\sum_{i=0}^{\infty}a_i T^i,\quad a_i\in  A. 
    \] 
    We can take a minimal $m\in \mathbb{N}$ so that $a_m\not\in \mathring{A}$. Then $\sum_{i=0}^{m-1}a_iT^i\in \mathring{A}\{T\}\subseteq (A\{T\})^{\circ}$ by what we have proved. It follows that 
    \[
        g:=f-\sum_{i=0}^{m-1}a_iT^i=\sum_{i=m}^{\infty}a_iT^i\in (A\{T\})^{\circ}.
    \]
    Then it follows that
    \[
        \|g^j\|\geq \|a_m^j\|  
    \] 
    for any $j\in \mathbb{N}$. It follows that $a_m\in \mathring{A}$, which is a contradiction.

    Next we show that 
    \[
        \check{A}\{T\}\subseteq (A\{T\})^{\check{}}.
    \]
    Let $f\in \check{A}\{T\}$. We expand $f$ as
    \[
        f=\sum_{i=0}^{\infty}a_i T^i,\quad a_i\in  \check{A}. 
    \] 
    Then for each $i,j\in \mathbb{N}$, $\|a_iT^i\|_1^j=\|a_i\|^j$. So for each $i\in \mathbb{N}$, $a_iT^i\in (A\{T\})^{\check{}}$. By \cref{prop-topnilring}, it follows that $f\in (A\{T\})^{\check{}}$.

    Conversely, take $f\in (A\{T\})^{\check{}}$, suppose by contrary that $f\not\in \check{A}\{T\}$. Expand $f$ as
    \[
        f=\sum_{i=0}^{\infty}a_i T^i,\quad a_i\in  A. 
    \] 
    We can take a minimal $m\in \mathbb{N}$ so that $a_m\not\in \check{A}$. Then $\sum_{i=0}^{m-1}a_iT^i\in \check{A}\{T\}\subseteq (A\{T\})^{\check{}}$ by what we have proved. It follows that 
    \[
        g:=f-\sum_{i=0}^{m-1}a_iT^i=\sum_{i=m}^{\infty}a_iT^i\in (A\{T\})^{\check{}}.
    \]
    Then it follows that
    \[
        \|g^j\|\geq \|a_m^j\|  
    \] 
    for any $j\in \mathbb{N}$. It follows that $a_m\in \check{A}$, which is a contradiction.
\end{proof}

\begin{corollary}\label{cor-reductionstrictlyconv}
    For any non-Archimedean Banach ring $(A,\|\bullet\|)$, we have a canonical isomorphism
    \[
        \widetilde{A\{T\}}\cong \tilde{A}[T].
    \]
    The natural map ${A\{T\}}^{\circ}\rightarrow \widetilde{A\{T\}}$ corresponds to a homomorphism $\mathring{A}\{T\}\rightarrow \tilde{A}[T]$ extending the homomorphism $\mathring{A}\rightarrow \tilde{A}$ and sending $T$ to $T$.
\end{corollary}
\begin{proof}
    Let $f=\sum_{i=0}^{\infty}a_i T^i\in {A\{T\}}^{\circ}$. 
    Then $a_i\in \mathring{A}$ by \cref{prop-strictlyconvcirccheck}. But $\|a_i\|\to 0$ as $i\to\infty$, so $a_i\in \check{A}$ for almost all $i$. It follows that the image of $f$ in $\widetilde{A\{T\}}$ is the same as the image of an element from $\mathring{A}[T]$. On the other hand, for each $f\in \tilde{A}[T]$, we can expand $f=a_NT^N+\cdots+a_1T^1+a_0$ with $a_N\in \tilde{A}$. Lift each $a_i$ to $b_i\in \mathring{A}$. Then the image of $b_NT^N+\cdots+b_1T^1+b_0$ under the reduction corresponds to $f$. The assertions follow.
\end{proof}

\begin{corollary}\label{cor-unitsstrictlyconv}
    Let $(A,\|\bullet\|)$ be a non-Archimedean Banach ring. An element $f=\sum_{i=0}^{\infty}a_i T^i\in \mathring{A}\{T\}$ is a unit in $\mathring{A}\{T\}$ if and only if $a_0$ is a unit in  $\mathring{A}$ and $a_i\in \check{A}$ for all $i>0$.
\end{corollary}
\begin{proof}
By \cref{prop-strictconvseriesradiusBanach}, we know that $A\{T\}$ is complete.
According to \cref{lma-unitmoduloreduction} and \cref{prop-strictlyconvcirccheck}, $f$ is a unit in $\mathring{A}\{T\}$ if and only if $\sum_{i=0}^{\infty} \tilde{a}_i T^i$  is a unit in $\tilde{A}[T]$. By \cref{lma-unitmoduloreduction} again, $a_0$ is a unit in $A$ if and only if $\tilde{a_0}$ is a unit in $\tilde{A}$. So we are reduced to argue that units in $\tilde{A}[T]$ are exactly units in $\tilde{A}$. This follows from the general fact about units in polynomial rings over a reduced ring.
\end{proof}


\begin{lemma}\label{lma-equalizerbanach}
    Let $A$, $B$ be Banach rings and $f,g:A\rightarrow B$ be bounded homomorphisms. Then the equalizer $\Eq(f,g)$ of $f$ and $g$ is a Banach subring of $A$. 
    
    If $C$ ia a Banach ring, $A,B$ are moreover Banach $C$-algebras and $f,g$ are moerover bounded homomorphism of Banach $C$-algebras, then $\Eq(f,g)$ is a Banach $C$-subalgebra of $A$.
\end{lemma}
\begin{proof}
    As an equalizer of ring homomorphisms, $\Eq(f,g)$ is a subring of $A$. We can realize $\Eq(f,g)=\ker (f-g)$, so $\Eq(f-g)$ is a closed subring of $A$, hence a Banach subring with respect to the subspace norm.

    The second assertion is proved similarly.
\end{proof}


\section{Semi-normed modules}

\begin{definition}
    Let $(A,\|\bullet\|_A)$ be a normed ring. A \emph{semi-normed $A$-module} (resp. \emph{normed $A$-module}) is a pair $(M,\|\bullet\|_M)$ consisting of an $A$-module $M$ and a semi-norm (resp. norm) on the underlying Abelian group of $M$ such that there is a constant $C>0$ such that
    \[
      \|fm\|_M \leq C \|f\|_A \|m\|_M
    \]
    for all $f\in A$ and $m\in M$. In case $\|\bullet\|_A$ is non-Archimedean, we require that $\|\bullet\|_M$ is also non-Archimedean. 

    We say the semi-normed $A$-module (resp. normed $A$-module) $M$ is faithful if we can take $C=1$.

    When $\|\bullet\|_M$ is clear from the context, we say $M$ is a semi-normed $A$-module (resp. normed $A$-module).

    An $A$-module homomorphism $\varphi:M\rightarrow N$ between two semi-normed $A$-modules $M$ and $N$ is \emph{bounded} if the homomorphism of the underlying semi-normed Abelian groups is bounded in the sense of \cref{def-admissiblemorphism}.

    A \emph{Banach $A$-module} is a normed $A$-module which is complete with respect to the metric \cref{lma-pmetricinducedbyseminorm}.

    We denote by $\BanCat_A$ the category of Banach $A$-modules with bounded $A$-module homomorphisms as morphisms.
\end{definition}

\begin{definition}
    Let $A$ be a Banach ring and $(M,\|\bullet\|_M),(N,\|bullet\|_N)$ be two Banach $A$-modules. Define their \emph{direct sum} as the Banach $A$-module $(M\oplus N, \|\bullet\|_{M\oplus N})$, where for $m\in M, n\in N$, we set
    \[
        \|(m,n)\|_{M\oplus N}:=\max\{\|m\|_M,\|n\|_N \}.  
    \]
    This definition extends immediately to finite direct sums of Banach $A$-modules.
\end{definition}



\begin{definition}\label{def-finiteBanachmodules}
    Let $A$ be a Banach ring. A Banach $A$-module $M$ is said to be \emph{finite} if there is $n\in \mathbb{N}$ and an admissible epimorphism $A^n\rightarrow M$. 

    A morphism between finite $A$ modules $M$ and $N$  is a morphism $M\rightarrow N$ in $\BanCat_A$. We write $\BanCat_A^f$ for the category of finite Banach $A$-modules.
\end{definition}

\begin{definition}
    Let $A$ be a semi-normed ring and $M$ be a semi-normed $A$-module. 
    There is an obvious $\hat{A}$-module structure on the completion $\hat{M}$ of $A$ defined in \cref{def-completionAbgroups}. We call the resulting Banach module the \emph{completion} of $M$.
\end{definition}

\begin{definition}\label{def-tensorproduct}
    Let $A$ be a non-Archimedean semi-normed ring. Consider semi-normed $A$-modules $(M,\|\bullet\|_M)$ and $(N,\|\bullet\|_N)$. We define the \emph{tensor product} of  $(M,\|\bullet\|_M)$ and $(N,\|\bullet\|_N)$ as the semi-normed $A$-module $(M\otimes N,\|\bullet\|_{M\otimes N})$, where
    \[
        \|x\|_{M\otimes N}=\inf \max_i (\|m_i\|_M\cdot \|n_i\|_N),
    \]
    where the infimum is taken over all decompositions $x=\sum_i m_i\otimes n_i$.
\end{definition}

\begin{definition}
    Let $A$ be a non-Archimedean Banach ring. Consider semi-normed $A$-modules $M$ and $M$, we define the \emph{complete tensor product} of $M$ and $N$ as the metric completion $M\hat{\otimes}_A N$ of the tensor product of $M$ and $N$ defined in \cref{def-tensorproduct}.
\end{definition}




\begin{thm}
    Let $(A,\|\bullet\|_A)$ be a normed ring. Then $\BanCat_A$ is a quasi-Abelian category.
\end{thm}
\begin{proof}
    We first observe that $\BanCat_A$ is preadditive, as for any $M,N\in \BanCat_A$, $\Hom_{\BanCat_A}(M,N)$ can be given the group structure inherited from the Abelian group $\Hom_A(M,N)$. It is obvious that $\BanCat_A$ is preadditive.

    Next we show that finite biproducts exist in $\BanCat_A$. Given $(M,\|\bullet\|_{M}),(N,\|\bullet\|_{N})\in \BanCat_A$, we set 
    \begin{equation}\label{eq-normedmodulesum}
        (M,\|\bullet\|_{M})\oplus  (N,\|\bullet\|_{N}):=(M\oplus N,\|\bullet\|_{M\oplus N}),
    \end{equation}
    where $\|(m,n)\|_{M\oplus N}:=\|m\|_M+\|n\|_N$ for $m\in M$ and $n\in N$. It is easy to verify that this gives the biproduct in $\BanCat_A$. 

    We have shown that $\BanCat_A$ is an additive category.

    Next given a morphism $\varphi:(M,\|\bullet\|_M)\rightarrow (N,\|\bullet\|_N)$ in $\BanCat_A$, we construct its kernel $(\ker \varphi, \|\bullet\|_{\ker\varphi})$ as the kernel of the underlying homomorphism of $A$-modules of $\varphi$ endowed with the subgroup semi-norm induced from $\|\bullet\|_M$ as in \cref{def-quotsubsemnorm}. It is easy to verify that $(\ker \varphi, \|\bullet\|_{\ker\varphi})$ is the kernel of $\varphi$ in  $\BanCat_A$. 

    We can similarly construct the cokernels. To be more precise, let $\varphi:(M,\|\bullet\|_M)\rightarrow (N,\|\bullet\|_N)$ be a morphism in $\BanCat_A$, then the $\coker \varphi=\{N/\overline{\varphi(M)}\}$ with quotient norm.

    We have shown that $\BanCat_A$ is a pre-Abelian category. 
    
    Observe that given a morphism  $\varphi:(M,\|\bullet\|_M)\rightarrow (N,\|\bullet\|_N)$ in $\BanCat_A$, its image is given by $\Img \varphi=\overline{\varphi(M)}$ with the subspace norm induced from $N$; its coimage is $M/\ker f$ with the residue norm. The morphism $\varphi$ is admissible if the natural map
    \[
        M/\ker f\rightarrow \overline{\varphi(M)}
    \]
    is an isomorphism in $\BanCat_A$.

    It remains to show that pullbacks preserve admissible epimorphisms and pushouts preserve admissible monomorphisms. We first handle the case of admissible epimorphisms. Consider a Cartesian square in $\BanCat_A$:
    \[
        \begin{tikzcd}
            M \arrow[r, "p"] \arrow[d, "q"] \arrow[rd, "\square", phantom] & U \arrow[d, "f"] \\
            V \arrow[r, "g"]                                               & W               
        \end{tikzcd}  
    \]
    with $g$ being an admissible epimorphism. We need to show that $p$ is also an admissible epimorphism, namely $U\cong M/\ker p$.

    We define $\alpha:U\oplus V\rightarrow W$, $\alpha=(f,-g)$, then there is a natural isomorphism $j:M\rightarrow \ker \alpha$. Let us write $i:\ker \alpha\rightarrow U\oplus V$ the natural morphism. Then
    \[
        q=\pi_V\circ i \circ j,\quad p=\pi_U\circ i \circ j,  
    \]
    where $\pi_U:U\oplus V\rightarrow U,\pi_V:U\oplus V\rightarrow V$ are the natural morphisms. We may assume that $M=\ker \alpha$ and $j$ is the identity. Then it is obvious that $p$ is surjective on the underlying sets. In order to compute the quotient norm on  $M/\ker p$, we need a more explicit description of $\ker p\subseteq \ker \alpha$. We know that 
    \[
        \ker \alpha=\{(u,v)\in U\oplus V: f(u)=g(v)\}  
    \]
    with the subspace norm induced from the product norm on $U\oplus V$ defined in \eqref{eq-normedmodulesum}. Then
    \[
        \ker p=\{(u,v)\in U\oplus V:u=0, g(v)=0\}.    
    \]
    It follows that for $(u,v)\in \ker \alpha$,
    \[
        \inf_{(u',v')\in \ker p} \|(u,v)+(u',v')\|_{U\oplus V}=\inf_{v'\in \ker g} (\|v+v'\|_V)+ \|x\|_U,
    \]
    where $\|\bullet\|_U$ and $\|\bullet\|_V$ denote the norms on $U$ and $V$ respectively. By our assumption that $g$ is an admissible epimorphism, there is a constant $C>0$ so that 
    \[
        \inf_{v'\in \ker g} (\|v+v'\|_V)\leq C\|g(v)\|_W
    \]
    for any $v\in V$.
    As $f$ is bounded, we can also find a constant $C'>0$ so that for any $(u,v)\in \ker \alpha$, 
    \[
        \|g(v)\|_W=\|f(u)\|_W\leq C'\|u\|_U.
    \]
    It follows that $p$ is admissible epimorphism.

    It remains to check that the pushforwards preserve admissible monomorphisms. Consider a co-Cartesian diagram
    \[
        \begin{tikzcd}
            W \arrow[r, "g"] \arrow[d, "f"]  & U \arrow[d, "q"] \\
            V \arrow[r, "p"]                                               & M               
        \end{tikzcd}  
    \]
    with $g$ being an admissible monomorphism. We need to show that $p$ is an adimissible monomorphism. This boils down to the following: $p$ is injective with closed image and the norms on $p(V)$ obtained in the obvious ways are equivalent.
    As in the case of pullbacks, we may let $\alpha:W\rightarrow U\oplus V$ be the  morphism $(g,-f)$ and assume that $M=\coker \alpha$. It is then easy to see that $p$ is injective. The proof that the two norms on $p(V)$ are equivalent is parallel to the argument in the pull-back case, and we omit it.

    It remains to verify that $p(V)$ is closed in $W$. Consider the admissibly coexact sequence in $\BanCat_A$:
    \[
      W \xrightarrow{\alpha}U\oplus V\xrightarrow{\pi} M\rightarrow 0. 
    \]
    It is also admissibly coexact in the category of semi-normed $A$-modules. \textcolor{red}{Include details later.}
    Let $x_n\in V$ be a sequence so that $p(x_n)\to y\in M$. We may write $y=\pi(u,v)$ for some $(u,v)\in U\oplus V$. Then
    \[
        \pi(-u,x_n-v)\to 0  
    \]
    as $n\to \infty$. From the strict coexact sequence, we can find a sequence $w_n\in W$ so that
    \[
        (-u-g(w_n),x_n-v+f(w_n))\to 0  
    \]
    as $n\to \infty$. Then $g(w_n)\to -u$ in $U$ and hence there is $w\in W$ so that $w_n\to w\in W$ and $g(w)=-u$. But then $x_n\to x$ and $p(x)=y$.
\end{proof}


\begin{definition}
    Let $(A,\|\bullet\|_A)$ be a normed ring. A \emph{Banach $A$-algebra} is a pair $(B,\|\bullet\|_B)$ such that $(B,\|\bullet\|_B)$ is a Banach $A$-module and $(B,\|\bullet\|_B)$ is a Banach ring.

    A morphism of Banach $A$-algebras is a bounded $A$-algebra homomorphism. The category of Banach $A$-algebras is denoted by $\BanAlgCat_A$.
\end{definition}

\begin{definition}\label{def-finiteBanachalgebra}
    Let $A$ be a normed ring. A Banach $A$-algebra $B$ is said to be \emph{finite} if $B$ is finite as a Banach $A$-module. A morphism of finite Banach $A$-algebras is a morphism in $\BanAlgCat_A$. The category of finite Banach $A$-algebras is denoted by $\BanAlgCat_A^f$.
\end{definition}

\section{Berkovich spectra}


\begin{definition}\label{def-Berkspectrum}
    Let $(A,\|\bullet\|_A)$ be a Banach ring. A semi-norm $|\bullet|$ on $A$ is \emph{bounded} if there is a constant $C>0$ such that for any $f\in A$, $|f|\leq C\|f\|_A$.

    Write $\Sp A$ for the set of bounded semi-valuations on $A$. We call $\Sp A$ the \emph{Berkovich spectrum} of $A$.

    We endow $\Sp A$ with the weakest topology such that for each $f\in A$, the map $\Sp A\rightarrow \mathbb{R}_{\geq 0}$ sending $\|\bullet\|$ to $\|f\|$ is continuous.

    It is sometimes preferable to denote an element $\|\bullet\|$ in $\Sp A$ by a single letter $x$. In this case, we write $|f(x)|=\|f\|$ for any $f\in A$.

    Given a bounded homomorphism $\varphi:A\rightarrow B$ of Banach rings, we define $\Sp \varphi:\Sp B\rightarrow \Sp A$ as follows: given a bounded semi-valuation $\|\bullet\|$ on $B$, we define $\Sp \varphi(\|\bullet\|)$ as the bounded semi-valuation on $A$ sending $f\in A$ to $\|\varphi(f)\|$.
\end{definition}

Observe that there is a natural map of sets:
\begin{equation}\label{eq-SptoSpec}
    \Sp A\rightarrow \left\{\mathfrak{p}\in \Spec A:\mathfrak{p}\text{ is closed.}\right\}
\end{equation}
sending each bounded semi-valuation to its kernel. The fiber over a closed ideal $\mathfrak{p}\in \Spec A$ is identified with the set of bounded valuations on $A/\mathfrak{p}$. Here boundedness is with respect to the residue norm.

\begin{remark}
In the literature, it is more common to denote $\Sp A$ by $\mathcal{M}(A)$. 
\end{remark}

\begin{lemma}\label{lma-supnormbddbyrho}
    Let $(A,\|\bullet\|_A)$ be a Banach ring. Then for any $x\in \Sp A$, we have
    \[
        |f(x)|\leq \rho(f)\leq \|f\|_A.
    \]
\end{lemma}
\begin{proof}
    Let $\|\bullet\|_x$ be the bounded semi-valuation corresponding to $x$. Then there is a constant $C>0$ such that
    \[
        \|\bullet\|_x\leq C\|\bullet\|_A.  
    \]
    It follows that for any $n\in \mathbb{N}$,
    \[
        \|f\|_x^n=\|f^n\|_x\leq C\|f^n\|_A.  
    \]
    Taking $n$-th root and letting $n\to\infty$, we find
    \[
        \|f\|_x\leq \rho(f).    
    \]
    The inequality $\rho(f)\leq \|f\|_A$ follows from the definition of $\rho$.
\end{proof}

\begin{example}\label{ex-valuationfieldspectrum}
    If $(k,|\bullet|)$ is a complete valuation field, then $\Sp k$ is a single point $|\bullet|$.

    To see this, let $\|\bullet\|\in \Sp k$, then by \cref{lma-supnormbddbyrho},
    \[
        \|f\|\leq |f|
    \]
    for any $f\in k$.
    If $f\neq 0$, the same inequality applied to $f^{-1}$ implies that $\|f\|=|f|$. When $f=0$, the equality is trivial. 
\end{example}

\begin{example}\label{ex-prodvalufield}
    Let $\{K_i\}_{i\in I}$ be a family of complete valuation fields. Recall that $\prod_{i\in I} K_i$ is defined in \cref{ex-Banachringproduct}. Then $\Sp \prod_{i\in I} K_i$ is homeomorphic to the Stone--\v{C}ech compactification of the discrete set $I$.

    To see this, we first identify the set of proper closed ideals in $\prod_{i\in I} K_i$ with the set of filters on $I$. 
    
    We first introduce a notation: for each $J\subseteq I$, we write $a_J\in \prod_{i\in I} K_i$ for the element 
    \[
        a_{J,i}=\left\{
            \begin{aligned}
                0,&\quad \text{if }i\in J;\\
                1,&\quad \text{if }i\not\in J.
            \end{aligned}
        \right.  
    \]
    Givena proper closed ideal $\mathfrak{a}\subseteq \prod_{i\in I} K_i$, we define a filter $\Phi_{\mathfrak{a}}=\{J\subseteq I:a_J\in \mathfrak{a}\}$. Conversely, given a filter $\Phi$ on $I$, we denote by $\mathfrak{a}_{\Phi}$ the closed ideal of $\prod_{i\in I} K_i$ generated by $a_J$ for all $J\in \Phi$. These maps are inverse to each other and order preserving. In particular, the maximal ideals of $\prod_{i\in I} K_i$ are identified with ultrafilters of $I$ by \cref{cor:maximalidealclosedinBanachring}.

    Next we show that all prime ideals of $\prod_{i\in I} K_i$ are maximal. In fact, take $\mathfrak{p}\in \Spec \prod_{i\in I} K_i$ and suppose that there is a maximal ideal $\mathfrak{m}$ properly containing $\mathfrak{p}$. Let $J\in \Phi_{\mathfrak{m}}\setminus \Phi_{\mathfrak{p}}$ so that $a_J\in \mathfrak{m} \setminus \mathfrak{p}$. As $I\setminus J\not\in \Phi_{\mathfrak{m}}$, we have $a_{I\setminus J}\not\in \mathfrak{m}$. But $a_J\cdot a_{I\setminus J}=0$. This contradicts the fact that $a_J\not\in \mathfrak{p}$ and $a_{I\setminus J}\not\in \mathfrak{p}$.

    So we have shown that as a set $\Spec \prod_{i\in I} K_i$ is identified with the Stone--\v{C}ech compactification of $I$. 

    Next we show taht if $\mathfrak{m}\in \Spec \prod_{i\in I} K_i$, then the residue norm on $\prod_{i\in I} K_i/\mathfrak{m}$ is multiplicative. In fact, for each $f\in \prod_{i\in I} K_i$, we have
    \[
        \|\pi(f)\|_{\prod_{i\in I} K_i/\mathfrak{m}}=\inf_{J\in \Phi_{\mathfrak{m}}}\sup_{i\in J}\|f\|.
    \]
    Here $\pi:\prod_{i\in I} K_i\rightarrow \prod_{i\in I} K_i/\mathfrak{m}$ is the natural map and 
     $\|\bullet\|$ denotes the norm on $\prod_{i\in I} K_i$ defined in \cref{ex-Banachringproduct}. It follows immediately that the residue norm on $\prod_{i\in I} K_i/\mathfrak{m}$ is multiplicative. In particular, by \cref{ex-valuationfieldspectrum}, $\Sp \prod_{i\in I} K_i$ and $\Spec \prod_{i\in I} K_i$ are identified as sets under the natural map \eqref{eq-SptoSpec}.

    It remains to identify the topologies. But this is easy: for any ultrafilter $\Phi$ on $I$, let $\mathfrak{m}=\mathfrak{m}_{\Phi}$, then $\|\pi(a_J)\|=0$ for $J\in \Phi$ and $\|\pi(a_J)\|=1$ otherwise. 
\end{example}

\begin{proposition}\label{prop-Spcontinuous}
    Let $\varphi:A\rightarrow B$ be a bounded homomorphism of Banach rings, then $\Sp \varphi:\Sp B\rightarrow \Sp A$ is continuous.
\end{proposition}
\begin{proof}
    For each $f\in A$, we define $\mathrm{ev}_f:\Sp A\rightarrow \mathbb{R}$ by sending $\|\bullet\|$ to $\|f\|$.
    It suffices to show that for any $f\in A$, the map $\Sp \varphi\circ\mathrm{ev}_f$ is continuous. But the composition is just the map sending $\|\bullet\|\in \Sp B$ to $\|\varphi(f)\|$. It is continuous by definition of the topology on $\Sp B$ as $\varphi$ is bounded.
\end{proof}

\begin{definition}\label{def-residuefield}
    Let $(A,\|\bullet\|_A)$ be a Banach ring. For each $x\in \Sp A$ corresponding to a bounded semi-valuation $\|\bullet\|_x$ on $A$, there is a natural induced valuation on $\Frac \ker \|\bullet\|_x$. We write $\mathscr{H}(x)$ for the completion of $\Frac \ker \|\bullet\|_x$ with the induced valuation. The complete valuation field $\mathscr{H}(x)$ is called the \emph{complete residue field} of $A$ at $x$. We write $\chi_x:A\rightarrow \mathscr{H}(x)$ the canonical map.

    We will write $f(x)$ for the residue class of $f$ in $\mathscr{H}(x)$. 
\end{definition}
Observe that for any $f\in A$, $|f(x)|$ is exactly the valuation of $f(x)$ with respect to the valuation on $\mathscr{H}(x)$.



\begin{definition}
    Let $A$ be a Banach ring. 
    The \emph{Gelfand transform} of $A$ is the homomorphism
    \[
        A\rightarrow \prod_{x\in \Sp A} \mathscr{H}(x).  
    \]
    Here the product is defined in \cref{ex-Banachringproduct}.

    We will denote the Gelfand transform as $f\mapsto \hat{f}=(f(x))_{x\in \Sp A}$.
\end{definition}
By \cref{lma-supnormbddbyrho}, the Gelfand transform is well-defined.

\begin{proposition}\label{prop-Gelfbdd}
    Let $(A,\|\bullet\|_A)$ be a Banach ring. Then the Gelfand transform
    \[
        A\rightarrow \prod_{x\in \Sp A} \mathscr{H}(x)
    \]
    is bounded. In fact, the Gelfand transform is contractive.
\end{proposition}
\begin{proof}
    This follows simply from \cref{lma-supnormbddbyrho}.
\end{proof}



\begin{proposition}\label{prop-Berkospecnonempty}
    Let $(A,\|\bullet\|)$ be a Banach ring. Then $\Sp A$ is empty if and only if $A=0$.
\end{proposition}

\begin{proof}
    If $A=0$, $\Sp A$ is clearly empty. Conversely, suppose that $\Sp A$ is empty. Assume that $A\neq 0$. For any maximal ideal $\mathfrak{m}$, by \cref{cor:maximalidealclosedinBanachring}, $A/\mathfrak{m}$ is a Banach ring and $\Sp A/\mathfrak{m}$ is a subset of $\Sp A$. So we may assume that $A$ is a field. Let $S$ be the set of bounded semi-norms on $A$. Then $S$ is non-empty as $\|\bullet\|\in S$. By Zorn's lemma, we can take a minimal element $|\bullet|\in S$. Up to replacing $A$ by the completion with respect to $|\bullet|$, we may assume that $|\bullet |$ is a norm on $A$. As $A$ is a field, we may further assume that $|\bullet|=\|\bullet\|$.
    
    We claim that $\|\bullet\|$ is multiplicative. As $A$ is a field, it suffices to show that $\|f^{-1}\|=\|f\|^{-1}$ for any non-zero $f\in A$. We may assume that $\|f\|^{-1}<\|f^{-1}\|$.
    
    Let $r$ be a positive real number. Let $\varphi:A\rightarrow A\{r^{-1}T\}/(T-f)$ be the natural map. The map is injective as $A$ is a field. We endow $A\{r^{-1}T\}/(T-f)$ with the quotient semi-norm induced by $\|\bullet\|_r$ and still denote this semi-norm by $\|\bullet\|_r$.

    We claim that $f-T$ is not invertible in $A\{r^{-1}T\}$ for the choice $r=\|f^{-1}\|^{-1}$. From this, it follows that 
    \[
        \|\varphi(f)\|_r  =\|T\|_r\leq r <\|f\|.
    \]
    The last step is our assumption. This contradicts our choice of $\|\bullet\|$.
    
    In order to prove the claim, we need to show that $\|\bullet\|$ is power multiplicative first. Assuming this, it is obvious that 
    \[
        \sum_{i=0}^{\infty}|f^{-i}|r^i=\sum_{i=0}^{\infty}|f^{-1}|^{i}|f^{-1}|^{-i}
    \]
    diverges.
    
    It remains to show that $\|\bullet\|$ is power multiplicative.
    Suppose that is $f\in A$ so that $\|f^n\|<\|f\|^n$ for some $n>1$. We claim that $f-T$ is not invertible in $A\{r^{-1}T\}$  for the choice $r=\|f^{n}\|^{1/n}$. From this,
    \[
      \|\varphi(f)\|_r=\|T\|_r\leq r<\|f\|.  
    \]
    This contradicts our choice of $\|\bullet\|$. The claim amounts to the divergence of
    \[
        \sum_{i=0}^{\infty}\|f^{-i}\|r^i.
    \]
    For a general $i\geq 0$, we write $i=pn+q$ for $p,q\in \mathbb{N}$ and $q\leq n-1$. Then $\|f^i\|\leq \|f^n\|^p \|f^q\|$. So 
    \[
        \|f^{-i}\|r^i\geq \|f^i\|^{-1} \|f^n\|^{p+n^{-1}q}\geq \|f^n\|^{n^{-1}q}\|f^q\|^{-1}.  
    \]
    It therefore follows that $|f^{-i}|r^i$ admits a positive lower bound, and we conclude.
\end{proof}


\begin{corollary}\label{cor-invertibleintermsofsp}
    Let $A$ be a Banach ring. Then an element $f\in A$ is invertible if and only if $f(x)\neq 0$ for all $x\in \Sp A$.
\end{corollary}
\begin{proof}
    The direct implication is trivial. Assume that $f(x)\neq 0$ for all $x\in \Sp A$. We claim that $f\not\in \mathfrak{m}$ for any maximal ideal $\mathfrak{m}$ in $A$. From this, it follows that $f$ is invertible in $A$.
    
    By \cref{cor:maximalidealclosedinBanachring}, $A/\mathfrak{m}$ is a Banach ring. It follows from \cref{prop-Berkospecnonempty} that there is a non-trival bounded semi-valuation on $A/\mathfrak{m}$, which lifts to a bounded semi-valuation on $A$.
\end{proof}


\begin{corollary}\label{cor-rhoequsup}
    Let $(A,\|\bullet\|_A)$ be a Banach ring. Then for any $f\in A$, we have
    \[
        \rho(f)=\sup_{x\in \Sp A} |f(x)|.  
    \]
\end{corollary}
\begin{proof}
    We have already shown $\rho(f)\geq \sup_{x\in \Sp A} |f(x)|$ in \cref{lma-supnormbddbyrho}. To verify the reverse inequality, take $f\in A$ and $r\in \mathbb{R}_{>0}$,
    it suffices to show that if $|f(x)|<r$ for all $x\in \Sp A$, then $\rho(f)\leq r$.

    Consider the Banach ring $B=A\{rT\}$. By \cref{lma-supnormbddbyrho} again, $|T(x)|\leq \|T\|_{r^{-1}}=r^{-1}$ for all $x\in \Sp B$. Therefore, for any $x\in \Sp B$, $|(fT)(x)|< 1$. Hence, $(1-fT)(x)\neq 0$ for all $x\in \Sp B$. By \cref{cor-invertibleintermsofsp}, $1-fT$ is invertible in $B$. But this happens exactly when
    \[
        \sum_{i=0}^{\infty} \|f^i\|_A r^{-i} 
    \]
    is convergent. It follows that $\rho(f)\leq r$.
\end{proof}

\begin{thm}\label{thm-spectrumcptHaus}
    Let $(A,\|\bullet\|)$ be a Banach ring. Then $\Sp A$ is a compact Hausdorff space.
\end{thm}
\begin{proof}
    We first show that $\Sp A$ is Hausdorff. Take $x_1, x_2\in A$, $x_1\neq x_2$. In other words, we can find $f\in A$ so that $|f(x_1)|\neq |f(x_2)|$. We may assume that     $|f(x_1)|< |f(x_2)|$. Take a real number $r>0$ so that
    \[
        |f(x_1)|< r <|f(x_2)|.
    \]
    Then $\{x\in \Sp A: |f(x)|<r\}$ and $\{x\in \Sp A: |f(x)|>r\}$ are disjoint neighbourhoods of $x_1$ and $x_2$.

    Next we show that $\Sp A$ is compact. By \cref{prop-Gelfbdd} and \cref{prop-Spcontinuous}, we can define a continuous map
    \[
        \Sp \prod_{x\in \Sp A}\mathscr{H}(x)\rightarrow \Sp A.  
    \]
    The map is clearly surjective: for any $x\in \Sp A$, the valuation on $\mathscr{H}(x)$ induces a semi-valuation on  $\prod_{x\in \Sp A}\mathscr{H}(x)$, which is clearly bounded. The image of this semi-valuation in $\Sp A$ is just $x$.

    So it suffices to show that $\Sp \prod_{x\in \Sp A}\mathscr{H}(x)$ is compact. This follows from \cref{ex-prodvalufield}.
\end{proof}



\section{Open mapping theorem}
Let $(k,|\bullet|)$ be a complete non-trivially valued field. All results in this section fail when $k$ is trivially valued.

\begin{proposition}\label{prop-bddequivcont}
    Let $A$ be a normed $k$-algebra and $f:(M,\|\bullet\|_M)\rightarrow (N,\|\bullet\|_N)$ be an $A$-homomorphism of normed $A$-modules. Then $f$ is bounded if and only if $f$ is continuous. 
\end{proposition}
\begin{proof}
    The direct implication follows from \cref{prop-bddimplycont}. Assume that $f$ is continuous. We may assume that $A=k$. 

    Assume that $f$ is not bounded. Fix $a\in k$ with $|a|\in (0,1)$. This is possible as $k$ is non-trivially valued.
    Then we can find a sequence $m_i\in M$ such that $\|f(m_i)\|_N>|a|^{-i}\|m_i\|_M$. Up to replace $m_i$ by a scalar multiple, we may assume that $\|m_i\|_M\in [1,|a|^{-1})$: if $\|m_i\|_M\geq 1$, choose $n\in \mathbb{N}$ such that $|a|^{-n}\leq \|m_i\|_M<|a|^{-n-1}$, then replace $m_i$ with $a^nm_i$. The case $|x|<1$ is similar. 
    Then $\|f(a^im_i)\|_N>\|m_i\|_M\geq 1$ while $\|a^im_i\|_M<|a|^n |a|^{-1}\to 0$. This is a contradiction.
\end{proof}

\begin{thm}[Open mapping theorem]\label{thm-openmapping}
    Let $(V,\|\bullet\|_V), (W,\|\bullet\|_W)$ be Banach $k$-spaces and $L:V\rightarrow W$ be a bounded and surjective $k$-homomorphism. Then $L$ is open.   
\end{thm}
\begin{proof}
    We write $V_0=\{v\in V:\|v\|_V<1\}$. Similarly define $W_0$.

    \textbf{Step~1}. We claim that there is a constant $C>0$ such that for all $w'\in W$, there is $v'\in V$ such that 
    \[
        \|v'\|_V\leq  C \|w'\|_W,\quad \|w'-L(v')\|_W<1/2.
    \]

    As $k$ is non-trivially valued, we can take $c\in k$ with $|c|\in (0,1)$, so 
    \[
        V=\bigcup_{n\in \mathbb{N}} c^n V_0.  
    \]
    As $L$ is surjective, we have
    \[
        W=\bigcup_{n\in \mathbb{N}} c^n L(V_0).   
    \]
    By Baire's category theorem, we may assume that $\overline{L(V_0)}$ has non-empty interior. Take $w\in W$ and $r>0$ so that
    \[
        \{w'\in W: \|w-w'\|_W<r\}\subseteq    \overline{L(V_0)}.
    \]
    Take $d\in W_0$ and $c'\in k^{\times}$ so that $|c'|<r$, then $w+c'd\in \overline{L(V_0)}$. It follows that
    \[
        c'd\in   \overline{L(V_0)}+\overline{L(V_0)}\subseteq \overline{L(V_0)+L(V_0)}=\overline{L(V_0)}.
    \]
    So
    \[
        W_0\subseteq  \overline{L(c'^{-1}V_0)}. 
    \]
    It suffices to take $C=|c'^{-1}|$.

    \textbf{Step~2}.
    Now given $w\in W_0$, we want to show that $w\in L(\{v\in V:\|v\|_V<C\})$. 
    This will finish the argument: as $k$ is non-trivially valued, this implies that $L(V_0)$ contains an open neighbourhood of $0$. 
    
    From Step~1, we can construct $v_1\in V$ with $\|v_1\|_V< C$ and $\|w-L(v_1)\|_W<1/2$. Repeat this process, we can $v_n\in V$ inductively so that
    \[
        \|v_n\|_V<  2^{1-n} C,\quad \|w-L(v_1+\cdots+v_n)\|_W<2^{-n}.
    \]
    We set $v=\sum_{i=1}^{\infty} v_i$. Then $v\in V$ and $Av=w$ by continuity. Moreover,
    \[
        \|v\|_V\leq \max_n \|v_n\|_V<C.   
    \]
\end{proof}


\begin{corollary}\label{cor-completionfinitecomplete}
    Let $A$ be a Banach $k$-algebra and $M$ be a normed $A$-module. Assume that $\hat{M}$ is a finite $A$-module, then $M$ is complete.
\end{corollary}
\begin{proof}
    Take $x_1,\ldots,x_n\in \hat{M}$ so that $\pi:A^n\rightarrow \hat{M}$ sending $(a_1,\ldots,a_n)$ to $\sum_{i=1}^n a_ix_i$ is surjective. By open mapping theorem \cref{thm-openmapping}, $\sum_{i=1}^n \check{A}x_i$ is a neighbourhood of $0$ in $\hat{M}$. So
    \[
        x_j\in M+  \sum_{i=1}^n \check{A} x_i.
    \]
    It follows from (a version of) Nakayama's lemma that $M=\hat{M}$.
\end{proof}

\begin{corollary}\label{cor-idealclosed}
    Let $A$ be a Banach $k$-algebra and $M$ be a Noetherian Banach $A$-module. Let $N$ be a submodule of $M$. Then $N$ is closed in $M$.
    
    In particular, if $A$ is Noetherian, then all ideals of $A$ are closed.
\end{corollary}
\begin{proof}
    As $M$ is noetherian, $\bar{N}$ is a finite $A$-module. In particular, $N$ is complete by \cref{cor-completionfinitecomplete}. Hence, $N$ is closed in $M$.
\end{proof}

\begin{corollary}\label{cor-bddisadmi}
    A bounded epimorphism of Banach $k$-algebras $f:A\rightarrow B$ is admissible.
\end{corollary}
\begin{proof}
    Replacing $A$ by $A/\ker f$, we may assume that $f$ is bijective. It follows from \cref{thm-openmapping} that $f$ is a homeomorphism. The inverse of $f$ is therefore continuous, and hence bounded by \cref{prop-bddequivcont}.
\end{proof}


\begin{corollary}[Closed graph theorem]\label{cor-closedgraph}
    Let $L:V\rightarrow W$ be a $k$-linear map between $k$-Banach spaces. The following are equivalent:
    \begin{enumerate}
        \item $L$ is bounded.
        \item The graph of $L$ is closed.
    \end{enumerate}
\end{corollary}
\begin{proof}
    (1) $\implies$ (2) is trivial.

    Assume (2). Let $p_1:V\times W\rightarrow V$, $p_2:V\times W\rightarrow W$ be the natural projections and $q:G\rightarrow V$ the restriction of $p_1$ to the graph $G$ of $L$. Observe that $L$ is a closed subspace of $V\times W$, hence a Banach space. By open mapping theorem \cref{thm-openmapping}, $q$ is an open mapping. In particular, the map $r:V\rightarrow G$ sending $v\in V$ to $(v,Lv)$ is bounded. It follows that $L=p_2\circ r$ is also bounded.
\end{proof}

\section{Properties of Banach algebras over a field}
Let $(k,|\bullet|)$ be a complete non-trivially valued non-Archimedean valued field.
\begin{proposition}\label{prop-morphismBanachcont}
    Let $A,B$ be Banach $k$-algebras and $\varphi:A\rightarrow B$ be a $k$-algebra homomorphism. Assume that there is a family $\{I_i\}$ of ideals in $B$ satisfying
    \begin{enumerate}
        \item Each $I_i$ is closed in $B$ and each inverse image $\varphi^{-1}(I_i)$ is closed in $A$.
        \item For each $I_i$, $\dim_k B/I_i$ is finite.
        \item $\bigcap_{i\in I} I_i=0$.
    \end{enumerate}
    Then $\varphi$ is continuous. 
\end{proposition}
Observe that when $A$ and $B$ are both noetherian, Condition~(1) is automatically satisfied.
\begin{proof}
    For each $i\in I$, we write $\pi_i:B\rightarrow B/I_i$ the projection.  Let $\psi_i:A\rightarrow B/I_i$ denote $\pi_i\circ \varphi$. Let $\bar{\psi}_i:A/\ker \psi_i\rightarrow B/I_{i}$ the injective map induced by $\psi_i$. We know that $A/\ker \psi_i$ and $B/I_i$ are both finite dimensional. We endow them with the residue norm. Then $\bar{\psi}_i$ is continuous. It follows that $\psi_i$ is also continuous. 

    By the closed graph theorem \cref{cor-closedgraph}, it suffices to verify the following claim: let $a_i\in A$ be a sequence with limit $0$ and $\varphi(a_i)\to b\in B$, then $b=0$. From the continuity of  $\bar{\psi}_i$, we know that $b\in I_i$ for all $i\in I$, it follows that $b=0$ by our assumption.
\end{proof}

\begin{lemma}\label{lma-finitemodulehomobdd}
    Let $A$ be a Noetherian $k$-Banach algebra and $M,N$ be Banach $A$-modules, which are finite as $A$-modules. Let $f:M\rightarrow N$ be an $A$-linear map. Then $f$ is bounded.
\end{lemma}
\begin{proof}
    Choose $n\in \mathbb{N}$ and an $A$-linear epimorphism $\pi:A^n\rightarrow M$. It is clear that $\pi$ is bounded. Similarly, $\pi\circ f$ is also bounded. By open mapping theorem \cref{thm-openmapping}, $\pi$ is open, so $\varphi$ is continuous and hence bounded by \cref{prop-bddequivcont}.
\end{proof}

\begin{proposition}\label{prop-finitemodulenormexist}
    Let $A$ be a Noetherian $k$-Banach algebra. Then any finite $A$-module $M$ admits a complete $A$-module norm. Such norms are unique up to equivalence.
\end{proposition}
\begin{proof}
    The uniqueness follows from \cref{lma-finitemodulehomobdd}. As for the existence, take $n\in \mathbb{N}$ and an $A$-linear epimorphism $\pi:A^n\rightarrow M$. By \cref{cor-idealclosed}, $\ker A^n$ is closed in $A^n$, it suffices to take the residue norm on $M$.
\end{proof}

\begin{proposition}\label{prop-algebrafinitenormadmi}
    Let $(A,\|\bullet\|_A)$ be a Noetherian $k$-Banach algebra and $\varphi:A\rightarrow B$ be a finite $k$-algebra homomorphism from $A$ to a $k$-algebra $B$. Then $B$ is Noetherian and admits a complete $A$-algebra norm such that $\varphi$ is admissible.
    All complete $k$-algebra norms on $B$ such that $\varphi$ is bounded are equivalent.
\end{proposition}
\begin{proof}
    The uniqueness follows from \cref{prop-finitemodulenormexist}.

    As $\varphi$ is finite, $B$ is a finite $A$-module. So by \cref{prop-finitemodulenormexist}, we can endow $B$ with a complete $A$-module norm $|\bullet|$ such that $\varphi$ is contractive. 

    We claim that there is a constant $C>0$ such that 
    \[
        |xy|\leq C |x|\cdot |y|  
    \]
    for all $x,y\in B$.
    
    Assuming this claim, it suffices to define
    \[
        \|x\|:=\sup_{y\in B,y\neq 0}\frac{|xy|}{|y|}
    \]
    for $x\in B$.

    It remains to establish the claim. Let $b_1,\ldots,b_n$ be generators of $B$ as an $A$-module. Let $C'=\max_{i,j=1,\ldots,n} |b_ib_j|$. Choose $\eta>1$ such that for each $x\in B$, there is an equation
    \[
        x=\sum_{j=1}^n \varphi(a_j)b_j,\quad \max_{j=1,\ldots,n} \|a_j\|_A \leq \eta |x|. 
    \]
    The existence of $\eta$ follows from the construction of $|\bullet|$ in \cref{prop-finitemodulenormexist}. Let $C=C'\eta^2$. Then for any $x_1,x_2\in B$, we write
    \[
        x_i=\sum_{j=1}^n \varphi(a_{ij})b_j,\quad i=1,2. 
    \]
    We compute
    \[
        |x_1x_2|\leq \max_{i,j=1,\ldots,n} |\varphi(a_{1i})\varphi(a_{2j})b_ib_j|\leq C'\max_{i=1,\ldots,n}|a_{1i}|\max_{j=1,\ldots,n}|a_{2j}|\leq C|x_1|\cdot|x_2|.  
    \]
\end{proof}

\begin{proposition}\label{prop-Spectrrmandgalois}
    Let $k$ be a complete valuation field and $A$ be a Banach $k$-algebra. Let $K$ be a finite normal extension of $k$. 
    \begin{enumerate}
        \item If $K/k$ is separable (or equivalently Galois), we have a natural homeomorphism
            \[
                \Sp (A\otimes_k K)/\Gal(K/k)\cn \Sp A.  
            \]
        \item If $K/k$ is purely inseparable, we have a natural homeomorphism
            \[
                \Sp  (A\otimes_k K) \cn \Sp A. 
            \]
    \end{enumerate}
\end{proposition}
\begin{proof}
    In both cases, the inclusion $A\rightarrow A\otimes_k K$ induces a morphism
    \[
        \Sp   (A\otimes_k K)\rightarrow \Sp A.
    \]
    In the first case, $\Gal(K/k)$ clearly acts on $\Sp A\otimes_k K$ preserving each fiber: given a bounded semi-valuation $\|\bullet\|_x$ on $A\otimes_k K$  corresponding to a point $x\in \Sp (A\otimes_k K)$ and $\sigma\in \Gal(K/k)$, then $\sigma x$ corresponds to the bounded semi-valuation $\|\bullet\|_{\sigma x}$ on $A\otimes_k K$ so that 
    \[
        \|f\|_{\sigma x}=\|\sigma^{-1}(f)\|_x.  
    \]
    It follows that the maps in both cases are well-defined. We observe that the fiber of a point $x\in \Sp A$ under $\Sp   (A\otimes_k K)\rightarrow \Sp A$ can be identified with the image of $\Sp \mathscr{H}(x)\otimes_k K$ in $\Sp A\otimes_k K$. Observe that $\Sp \mathscr{H}(x)\otimes_k K$ is just the set of maximal ideals
     When $K/k$ is Galois, $\Gal(K/k)$ acts transitively. If $K/k$ is purely inseparable, then $\mathscr{H}(x)\otimes_k K$ is a local ring.
\end{proof}

\begin{corollary}\label{cor-Spalgclosure}
    Let $k$ be a complete valuation field and $A$ be a Banach $k$-algebra. Then we have a canonical identification
    \[
        \Sp A\hat{\otimes}_k \widehat{k^{\alg}}  /\Gal(k^{\sep}/k)\cn \Sp A.
    \]
\end{corollary}
\begin{proof}
    This follows from \cref{prop-Spectrrmandgalois}. \textcolor{red}{Add details later.}
\end{proof}

\begin{definition}\label{def-Shilovboundary}
    Let $A$ be a Banach $k$-algebra. A closed subset $\Gamma\subseteq\Sp A$ is called a \emph{boundary} of $A$ if for any $f\in A$,
    \[
        \sup_{x\in \Sp A}|f(x)|=\sup_{x\in \Gamma}|f(x)|.
    \] 
    If there is a minimal boundary of $A$, we call it the \emph{Shilov boundary} of $A$.
\end{definition}


\section{Maximum spectra}
Let $(k,|\bullet|)$ a complete non-Archimedean valued field.

\begin{definition}
    For any $k$-algebra $A$, we write
    \[
      \Spm_k A:=\left\{\mathfrak{m}\in \Spm A:A/\mathfrak{m}\text{ is algebraic over }k\right\}.  
    \]
    For any $x\in \Spm_k A$ and any $f\in A$, we write $f(x)$ for the residue of $f$ in $A/\mathfrak{m}_x$, where $\mathfrak{m}_x$ is the maximal ideal corresponding to $x$. We write $|f(x)|$ for the valuation of $f(x)$ with respect to the extended valuation induced from the given valuation on $k$.
\end{definition}

\begin{definition}
    Let $A$ be a $k$-algebra.
    For each $f\in A$, we write $|f|_{\sup}$ for the supremum of $|f(x)|$ for all $x\in \Spm_k A$ if $\Spm_k A$ is non-empty and $0$ otherwise.
\end{definition}

\begin{definition}
    Let $f$ be a monic polynomial in $k[X]$, we expand $f=X^n+a_{1}X^{n-1}+\cdots +a_n\in k[X]$, then we define $\sigma(f):=\max_{i=1,\ldots,n}|a_i|^{1/i}$.
\end{definition}

\begin{definition}
    Let $L$ be a reduced integral $k$-algebra. We define the \emph{spectral norm} $|\bullet|_{\mathrm{sp}}$ on $L$ as follows: given a non-zero $x\in L$, take a minimal polynomial $X^n+a_1X^{n-1}+\cdots+a_n\in k[X]$ of $x$ over $k$. Then we set
    \[
      |x|_{\mathrm{sp}}:=\max_{i=1,\ldots,n} |a_i|^{1/i}.  
    \]
\end{definition}



\begin{proposition}\label{prop-sigmaproduct}
    Let $f,g$ be monic polynomials in $k[X]$, then
    \[
        \sigma(fg)=\max\{\sigma(f),\sigma(g)\}.    
    \]
\end{proposition}
\begin{proof}
     Replacing $k$ by a finite extension, we may assume that $f$ and $g$ split into linear factors $a_i$ and $b_j$. Then it is straightforward to show that
     \[
       \sigma(f)=\prod_i a_i,\quad \sigma(g)=\prod_j b_j, \sigma(fg)= \prod_i a_i \cdot \prod_j b_j.
     \]
     The assertion follows.
\end{proof}


\begin{proposition}
    Let $L$ be a reduced integral $k$-algebra. Then $|\bullet|_{\mathrm{sp}}$ is a power-multiplicative norm on $L$, and it extends the norm on $k$.
\end{proposition}
\begin{proof}
    It is clear that $|\bullet|_{\mathrm{sp}}$ extends the valuation on $k$. In order to show that $|\bullet|_{\mathrm{sp}}$ is a power-multiplicative norm on $L$, we may assume that $L$ is finite dimensional over $k$. Then we can find finite field extensions $L_1,\ldots,L_t$ of $k$ such that $L=\bigoplus_{i=1}^t L_i$. By \cref{prop-sigmaproduct}, we can immediately reduce to the case where $L/k$ is a finite field extension. In this case, the result is well-known. \textcolor{red}{Expand.}
\end{proof} 

\begin{proposition}\label{prop-spnormprimesred}
    Let $L$ be a reduced integral $k$-algebra. For any $\mathfrak{p}\in \Spec L$, write $\pi_{\mathfrak{p}}:L\rightarrow L/\mathfrak{p}$ the residue map. Then for any $y\in L$,
    \[
        |y|_{\mathrm{sp}}=\max_{\mathfrak{p}\in \Spec L}  |\pi_{\mathfrak{p}}(y)|_{\mathrm{sp}}.
    \]
\end{proposition}
\begin{proof}
    Fix $y\in L$.
    For any $\mathfrak{p}\in \Spec L$, let $q_{\mathfrak{p}}\in k[X]$ be the minimal polynomial of $\pi_{\mathfrak{p}}(y)$ over $k$. Let $q\in k[X]$ be the minimal polynomial of $y$ over $k$. Then clearly $q_{\mathfrak{p}}$ divides $q$ for all  $\mathfrak{p}\in \Spec L$. In particular, there are only finitely many different polynomials among $q_{\mathfrak{p}}$ ($\mathfrak{p}\in \Spec L$), say $q_1,\ldots,q_r$. Define $q'=q_1\cdots q_r\in k[X]$. Then for $f\in k[X]$, $f(y)=0$ if and only if $\pi_{\mathfrak{p}}(f(y))=0$ for all $\mathfrak{p}\in \Spec L$ as $L$ is reduced. The latter condition is equivalent to that $q'|f$. It follows that $q'=q$. Now by \cref{prop-sigmaproduct},
    \[
        |y|_{\mathrm{sp}}=\sigma(q)=\max_{i=1,\ldots,r}\sigma(q_i) =\max_{\mathfrak{p}\in \Spec L}  |\pi_{\mathfrak{p}}(y)|_{\mathrm{sp}}.
    \]
\end{proof}

\begin{proposition}\label{prop-supcontraction}
    Let $\varphi:B\rightarrow A$ be a homomorphism of commutative $k$-algebras. Then for any $f\in B$,
    \[
        |\varphi(f)|_{\sup}\leq |f|_{\sup}.  
    \]
\end{proposition}
\begin{proof}
    Of course, we can assume that $\Spm_k A\neq \emptyset$. Let $x\in \Spm_k A$, then $\varphi^{-1}x\in \Spm_k B$. But for any $f\in B$, $|\varphi(f)(x)|=|f(\varphi^{-1}x)|$. We conclude.
\end{proof}




\begin{proposition}\label{prop-supeqsp}
    Let $A$ be a $k$-algebra. Let $\mathfrak{M}$ be the set of minimal prime ideals in $A$ and let $\pi_{\mathfrak{p}}:A\rightarrow A/\mathfrak{p}$ be the canonical residue map for all $\mathfrak{p}\in \mathfrak{M}$. Then for any $f\in A$,
    \begin{equation}\label{eq-fsupminimalprimes}
        |f|_{\sup}=\sup_{\mathfrak{p}\in \mathfrak{M}} |\pi_{\mathfrak{p}}(f)|_{\sup}.
    \end{equation}

    In particular, if $A$ be a reduced integral $k$-algebra. Then $|\bullet|_{\sup}=|\bullet|_{\mathrm{sp}}$ on $A$.
\end{proposition}
\begin{proof}
    By \cref{prop-supcontraction}, 
    \[
        \sup_{\mathfrak{p}\in \mathfrak{M}} |\pi_{\mathfrak{p}}(f)|_{\sup}\leq |f|_{\sup}.  
    \]
    In order to show the reverse inequality, let $x\in \Spm_k A$. Take $\mathfrak{p}\in \mathfrak{M}$ such that $x\supseteq \mathfrak{p}$. Clearly, $\pi_{\mathfrak{p}}(x)\in \Spm_k A/\mathfrak{p}$ and
    \[
        |f(x)|=\left|\pi_{\mathfrak{p}}(f)(\pi_{\mathfrak{p}}(x))\right|.  
    \]
    In particular,
    \[
        |f(x)|\leq |\pi_{\mathfrak{p}}(f)|_{\sup}\leq \sup_{\mathfrak{p}\in \mathfrak{M}}   |\pi_{\mathfrak{p}}(f)|_{\sup}.
    \]
    Take sup with respect to $x$, we conclude \eqref{eq-fsupminimalprimes}.

    When $A$ is a reduced and integral $k$-algebra, all prime ideals of $A$ are minimal. The final assertion follows from \cref{prop-spnormprimesred}.
\end{proof}


\begin{definition}
    Let $A$ be a Banach $k$-algebra. We say that \emph{maximal modulus principle} holds for $A$ if for any $f\in A$, there is $x\in \Spm_k A$ such that $|f(x)|=|f|_{\sup}$.
\end{definition}

\begin{proposition}\label{prop-fsupspecexp}
    Let $\varphi:B\rightarrow A$ be an injective integral torsion-free homomorphism of Banach $k$-algebras. Assume that $B$ is a normal integral domain. 
    \begin{enumerate}
        \item Fix $f\in A$.
        Let $f^n+\varphi(b_1)f^{n-1}+\cdots+\varphi(b_n)=0$ be the minimal equation of $f$ over $A$. Then
        \[
            |f|_{\sup}=\max_{i=1,\ldots,n} |b_i|_{\sup}^{1/i}.  
        \]
        \item Assume that maximal modulus principle holds for $B$, then it holds for $A$ as well.
        \item Suppose that $|bb'|_{\sup}=|b|_{\sup}|b'|_{\sup}$ for all $b,b'\in B$. Then $|\varphi(b)f|_{\sup}=|b|_{\sup}|f|_{\sup}$ for all $b\in B$ and $f\in A$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    (1) We first show the inequality 
    \[
        |f|_{\sup}\leq \max_{i=1,\ldots,n} |b_i|_{\sup}^{1/i}.    
    \]
    Of course, we can assume that $\Spm_k A\neq \emptyset$.
    For all $x\in \Spm_k A$, we have
    \[
        0=f(x)^n +\varphi(b_1)f(x)^{n-1}+\cdots+\varphi(b_n)=f(x)^n+b_1(\varphi^{-1}x)f(x)^{n-1}+\cdots+b_n(\varphi^{-1}(x)).
    \]
    Then we in fact have that
    \[
        |f(x)|\leq   \max_{i=1,\ldots,n} |b_i(\varphi^{-1}x)|_{\sup}^{1/i}.  
    \]
    Assume that to the contrary that 
    \[
      |f(x)|^i> |b_i(\varphi^{-1}x)|  
    \]
    for all $i=1,\ldots,n$. Then
    \[
        |b_i(\varphi^{-1}x)f(x)^{n-i}|<|f(x)|^n=|f(x)^n|.  
    \]
    It follows that 
    \[
        |b_1(\varphi^{-1}x)f(x)^{n-1}+\cdots+b_n(\varphi^{-1}(x)) |< |f(x)^n|.
    \]
    This is a contradiction.

    It remains to argue that 
    \begin{equation}\label{eq-fsupnormcompute}
        |f|_{\sup}\geq\max_{i=1,\ldots,n} |b_i|_{\sup}^{1/i}.    
    \end{equation}
    
    Next let $A'=B[f]$. We argue that $A'\rightarrow A$ is an isometry with respect to $|\bullet|_{\sup}$. If $\Spm_k A'$ is empty, then the assertion follows from \cref{prop-supcontraction}. Assume  that $\Spm_m A'$ is non-empty. Take $y\in \Spm_k A'$. By \cite[\href{https://stacks.math.columbia.edu/tag/00GQ}{Tag 00GQ}]{stacks-project}, there is a maximal ideal $x\in \Spm A$ lying over $y$. As the induced map $A'/y\rightarrow A/x$ is integral, we find $x\in \Spm_k A$. So the map $\Spm_k A\rightarrow \Spm_k A'$ is surjective. If follows that $A'\rightarrow A$ is an isometry with respect to $|\bullet|_{\sup}$.

    In order to argue \eqref{eq-fsupnormcompute}, we may assume that $A=B[f]$. Let $q\in B[X]$ denote the minimal polynomial of $f$ over $A$. Then $A=B[X]/(q)$. Let $y\in \Spm_k B$, we write $f_y$ for the residue class of $f$ in $A/yA$ and write $\bar{f}_y$ for the residue class in $(A/yA)^{\Red}$. Similarly, let $q_y$ denote the residue class of $q$ in $B/y[X]$. As $y$ is contained in some $\Spm_k A$, we see that
    \[
        |f|_{\sup}=\sup_{y\in \Spm_k B} |f_y|_{\sup}=\sup_{y\in \Spm_k B} |\bar{f}_y|_{\sup}.  
    \]
    For $y\in \Spm_k B$, we decompose $q_y$ into prime factors $q_1^{n_1}\cdots q_r^{n_r}$ in $B/y[X]$. Then
    \[
        A/yA\cong B/y[X]/(q_y)  
    \]
    and
    \[
        (A/yA)^{\Red}\cong \bigoplus_{i=1}^r B/y[X]/(q_i).
    \]
    We endow $\bigoplus_{i=1}^r B/y[X]/(q_i)$ with the spectral norm over $B/y$. If $\bar{f}_i$ denotes the residue class of $\bar{f}_y$ in $B/y[X]/(q_i)$, by \cref{prop-supeqsp} and \cref{prop-sigmaproduct},
    \[
        |\bar{f}_y|_{\sup}=\max_{i=1,\ldots,r} |\bar{f}_i|_{\mathrm{sp}} = \max_{i=1,\ldots,r} \sigma(q_i)=\sigma(q_y).   
    \]
    Therefore, 
    \[
      |f|_{\sup}=\sup_{y\in \Spm_k B}\sigma(q_y)=\max_{i=1,\ldots,n} |b_i|_{\sup}^{1/n}.  
    \]

    (2) Take a non-zero $f\in A$.
    Using the notations in (1),
    we can find $y\in \Spm_k B$ such that 
    \[
        |\bar{f}_y|_{\sup}=\sigma(q_y)=|f|_{\sup}.  
    \]
    As $A/yA$ contains only finitely many maximal ideals, there is $x\in \Spm_k A$ such that $|\bar{f}_y|_{\sup}=|f(x)|$. So 
    \[
        |f|_{\sup}=|f(x)|.
    \]

    (3) Consider $f\in A$ and let $f^n+b_1f^{n-1}+\cdots+b_n=0$ be its minimal integral equation over $B$. Then $f$ is of degree $n$ over $\Frac B$ as well, hence so is $bf$ for any non-zero $b\in B$. So the minimal integral equation of $bf$ is 
    \[
        (bf)^n+bb_1(bf)^{n-1}+\cdots+b^nb_n=0.
    \]
    By (1), we compute
    \[
        |bf|_{\sup}=\max_{i=1,\ldots,n} |b^ib_i|_{\sup}^{1/i}=|b|_{\sup}\max_{i=1,\ldots,n}|b_i|_{\sup}^{1/i}=|b|_{\sup}|f|_{\sup}.
    \]
    Also, $|bf|_{\sup}=|b|_{\sup}|f|_{\sup}$ is trivial for $b=0$. We conclude.
\end{proof}

\section{Miscellany}


\begin{lemma}\label{lma-finitemodulejapanese}
    Let $(A,|\bullet|)$ be a valued integral domain such that $\tilde{A}$ is Noetherian and N-2. Assume that $|A^{\times}|$ is a group. Let $(B,\|\bullet\|)$ be a faithfully normed $A$-algebra such that
    \begin{enumerate}
        \item $\|\bullet\|$ is power-multiplicative.
        \item The $A$-rank of $B$ is finite.
        \item $\mathring{B}$ is integral over $\mathring{A}$.
    \end{enumerate}
    Then $\tilde{B}$ is finite as $\tilde{A}$-module.
\end{lemma}
\begin{proof}
    We want to apply \cref{Commutative-prop-noethjapfinite} in \nameref{Commutative-chap-commutative} to the canonical injection map $\psi:\tilde{A}\rightarrow \tilde{B}$. The map $\psi$ is integral as $\mathring{B}$ is integral over $\mathring{A}$. The conditions are easily verified. \textcolor{red}{Add details.}
     %Observe that $\tilde{B}$ is torsion-free as $M$ is faithfully normed.
\end{proof}


\printbibliography
\end{document}